{"version":3,"file":"useTextInputAutoExpand-94ooOhjm.js","sources":["../../../node_modules/baseui/esm/textarea/styled-components.js","../../../node_modules/baseui/esm/textarea/textarea.js","../../../streamlit/frontend/lib/src/hooks/useTextInputAutoExpand.ts"],"sourcesContent":["function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\nCopyright (c) Uber Technologies, Inc.\n\nThis source code is licensed under the MIT license found in the\nLICENSE file in the root directory of this source tree.\n*/\nimport { styled } from '../styles';\nimport { getInputStyles, getInputContainerStyles, getRootStyles } from '../input/styled-components';\nexport var StyledTextAreaRoot = styled('div', function (props) {\n  return _objectSpread(_objectSpread({}, getRootStyles(_objectSpread(_objectSpread({\n    $positive: false\n  }, props), {}, {\n    $hasIconTrailing: false\n  }))), {}, {\n    width: props.$resize ? 'fit-content' : '100%'\n  });\n});\nStyledTextAreaRoot.displayName = \"StyledTextAreaRoot\";\nStyledTextAreaRoot.displayName = 'StyledTextAreaRoot';\nexport var StyledTextareaContainer = styled('div', function (props) {\n  return getInputContainerStyles(_objectSpread({\n    $positive: false\n  }, props));\n});\nStyledTextareaContainer.displayName = \"StyledTextareaContainer\";\nStyledTextareaContainer.displayName = 'StyledTextareaContainer';\nexport var StyledTextarea = styled('textarea', function (props) {\n  return _objectSpread(_objectSpread({}, getInputStyles(props)), {}, {\n    resize: props.$resize || 'none'\n  });\n});\nStyledTextarea.displayName = \"StyledTextarea\";\nStyledTextarea.displayName = 'StyledTextarea';","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\nCopyright (c) Uber Technologies, Inc.\n\nThis source code is licensed under the MIT license found in the\nLICENSE file in the root directory of this source tree.\n*/\nimport * as React from 'react';\nimport { mergeOverrides, getOverrides } from '../helpers/overrides';\nimport { BaseInput, SIZE, CUSTOM_INPUT_TYPE } from '../input';\nimport { StyledTextAreaRoot, StyledTextarea, StyledTextareaContainer } from './styled-components';\n\nvar Textarea = /*#__PURE__*/function (_React$Component) {\n  _inherits(Textarea, _React$Component);\n\n  var _super = _createSuper(Textarea);\n\n  function Textarea() {\n    var _this;\n\n    _classCallCheck(this, Textarea);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      isFocused: _this.props.autoFocus || false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onFocus\", function (e) {\n      _this.setState({\n        isFocused: true\n      });\n\n      _this.props.onFocus(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onBlur\", function (e) {\n      _this.setState({\n        isFocused: false\n      });\n\n      _this.props.onBlur(e);\n    });\n\n    return _this;\n  }\n\n  _createClass(Textarea, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props$overrides = this.props.overrides,\n          overrides = _this$props$overrides === void 0 ? {} : _this$props$overrides;\n\n      var _getOverrides = getOverrides(overrides.Root, StyledTextAreaRoot),\n          _getOverrides2 = _slicedToArray(_getOverrides, 2),\n          Root = _getOverrides2[0],\n          rootProps = _getOverrides2[1];\n\n      var inputOverrides = mergeOverrides({\n        Input: {\n          component: StyledTextarea\n        },\n        InputContainer: {\n          component: StyledTextareaContainer\n        }\n      }, overrides);\n      return /*#__PURE__*/React.createElement(Root, _extends({\n        \"data-baseweb\": \"textarea\",\n        $isFocused: this.state.isFocused,\n        $isReadOnly: this.props.readOnly,\n        $disabled: this.props.disabled,\n        $error: this.props.error,\n        $positive: this.props.positive,\n        $required: this.props.required,\n        $resize: this.props.resize\n      }, rootProps), /*#__PURE__*/React.createElement(BaseInput, _extends({}, this.props, {\n        type: CUSTOM_INPUT_TYPE.textarea,\n        overrides: inputOverrides,\n        onFocus: this.onFocus,\n        onBlur: this.onBlur,\n        resize: this.props.resize\n      })));\n    }\n  }]);\n\n  return Textarea;\n}(React.Component);\n\n_defineProperty(Textarea, \"defaultProps\", {\n  autoFocus: false,\n  disabled: false,\n  readOnly: false,\n  error: false,\n  name: '',\n  onBlur: function onBlur() {},\n  onChange: function onChange() {},\n  onKeyDown: function onKeyDown() {},\n  onKeyPress: function onKeyPress() {},\n  onKeyUp: function onKeyUp() {},\n  onFocus: function onFocus() {},\n  overrides: {},\n  placeholder: '',\n  required: false,\n  rows: 3,\n  size: SIZE.default\n});\n\nexport default Textarea;","/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2025)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  RefObject,\n  useCallback,\n  useLayoutEffect,\n  useRef,\n  useState,\n} from \"react\"\n\nimport { useEmotionTheme } from \"@streamlit/lib\"\n\n// Constants for auto-expansion behavior\n// We want to show easily that there's scrolling so we deliberately choose\n// a half size.\nconst MAX_VISIBLE_NUM_LINES = 6.5\n// Rounding errors can arbitrarily create scrollbars. We add a rounding offset\n// to manage it better.\nconst ROUNDING_OFFSET = 1\n\n// Type for height guidance ref\ninterface HeightGuidance {\n  minHeight: number\n  maxHeight: number\n}\n\n/**\n * Calculates the natural scroll height of a textarea by temporarily resetting its height\n */\nconst getScrollHeight = (\n  textareaRef: RefObject<HTMLTextAreaElement>\n): number => {\n  let newScrollHeight = 0\n  const { current: textarea } = textareaRef\n  if (textarea) {\n    textarea.style.height = \"auto\"\n    // eslint-disable-next-line streamlit-custom/no-force-reflow-access -- Existing usage\n    newScrollHeight = textarea.scrollHeight\n    textarea.style.height = \"\"\n  }\n  return newScrollHeight\n}\n\n/**\n * Determines if the text input should be in extended state based on scroll height\n */\nconst calculateIsExtended = (\n  scrollHeight: number,\n  minHeight: number,\n  textareaRef: RefObject<HTMLTextAreaElement>\n): boolean => {\n  return scrollHeight > 0 && textareaRef.current\n    ? Math.abs(scrollHeight - minHeight) > ROUNDING_OFFSET\n    : false\n}\n\n/**\n * Initializes height guidance based on the current textarea element\n */\nconst initializeHeightGuidance = (\n  textareaRef: RefObject<HTMLTextAreaElement>,\n  heightGuidance: RefObject<HeightGuidance>\n): void => {\n  if (textareaRef.current && heightGuidance.current) {\n    const { offsetHeight } = textareaRef.current\n    heightGuidance.current.minHeight = offsetHeight\n    heightGuidance.current.maxHeight = offsetHeight * MAX_VISIBLE_NUM_LINES\n  }\n}\n\n/**\n * Calculates the appropriate height style for an auto-expanding textarea\n */\nconst calculateHeight = (\n  isExtended: boolean,\n  scrollHeight: number,\n  defaultHeight?: string | number\n): string => {\n  if (isExtended) {\n    return `${scrollHeight + ROUNDING_OFFSET}px`\n  }\n  return defaultHeight ? String(defaultHeight) : \"\"\n}\n\n/**\n * Calculates the appropriate max-height style for an auto-expanding textarea\n */\nconst calculateMaxHeight = (maxHeight: number): string => {\n  return maxHeight ? `${maxHeight}px` : \"\"\n}\n\nexport interface UseTextInputAutoExpandResult {\n  /** Whether the textarea is currently in extended state */\n  isExtended: boolean\n  /** Calculated height style for the textarea */\n  height: string\n  /** Calculated max-height style for the textarea */\n  maxHeight: string\n  /** Function to update scroll height (call this when content changes) */\n  updateScrollHeight: () => void\n}\n\nexport interface UseTextInputAutoExpandOptions {\n  /** Ref to the textarea element */\n  textareaRef: RefObject<HTMLTextAreaElement>\n  /** Dependencies that should trigger scroll height recalculation */\n  dependencies?: React.DependencyList\n}\n\n/**\n * Custom hook for text input auto-expansion functionality\n * Handles all the logic for automatically expanding textarea height based on content\n */\nexport const useTextInputAutoExpand = ({\n  textareaRef,\n  dependencies = [],\n}: UseTextInputAutoExpandOptions): UseTextInputAutoExpandResult => {\n  const theme = useEmotionTheme()\n  const heightGuidance = useRef<HeightGuidance>({ minHeight: 0, maxHeight: 0 })\n\n  const [scrollHeight, setScrollHeight] = useState(0)\n  const [isExtended, setIsExtended] = useState(false)\n\n  const updateScrollHeight = useCallback((): void => {\n    setScrollHeight(getScrollHeight(textareaRef))\n  }, [textareaRef, setScrollHeight])\n\n  // Initialize height guidance\n  useLayoutEffect(() => {\n    if (textareaRef.current) {\n      initializeHeightGuidance(textareaRef, heightGuidance)\n    }\n  }, [textareaRef])\n\n  // Update extended state when scroll height changes\n  useLayoutEffect(() => {\n    const { minHeight } = heightGuidance.current\n    setIsExtended(calculateIsExtended(scrollHeight, minHeight, textareaRef))\n  }, [scrollHeight, textareaRef])\n\n  // Update scroll height when dependencies change\n  useLayoutEffect(() => {\n    updateScrollHeight()\n  }, [textareaRef, updateScrollHeight, ...dependencies]) // eslint-disable-line react-hooks/exhaustive-deps\n\n  const { maxHeight: maxHeightValue } = heightGuidance.current\n\n  // Calculate height values using theme default\n  const defaultHeight = theme.sizes.minElementHeight\n  const calculatedHeight = calculateHeight(\n    isExtended,\n    scrollHeight,\n    defaultHeight\n  )\n  const calculatedMaxHeight = calculateMaxHeight(maxHeightValue)\n\n  return {\n    isExtended,\n    height: calculatedHeight,\n    maxHeight: calculatedMaxHeight,\n    updateScrollHeight,\n  }\n}\n"],"names":["ownKeys","object","enumerableOnly","keys","symbols","sym","_objectSpread","target","i","source","key","_defineProperty","obj","value","StyledTextAreaRoot","styled","props","getRootStyles","StyledTextareaContainer","getInputContainerStyles","StyledTextarea","getInputStyles","_typeof","_extends","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","o","minLen","_arrayLikeToArray","n","len","arr2","_i","_arr","_n","_d","_s","_e","err","_classCallCheck","instance","Constructor","_defineProperties","descriptor","_createClass","protoProps","staticProps","_inherits","subClass","superClass","_setPrototypeOf","p","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","Super","_getPrototypeOf","result","NewTarget","_possibleConstructorReturn","self","call","_assertThisInitialized","Textarea","_React$Component","_super","_this","_len","args","_key","e","_this$props$overrides","overrides","_getOverrides","getOverrides","_getOverrides2","Root","rootProps","inputOverrides","mergeOverrides","React.createElement","BaseInput","CUSTOM_INPUT_TYPE","React.Component","SIZE","MAX_VISIBLE_NUM_LINES","ROUNDING_OFFSET","getScrollHeight","textareaRef","newScrollHeight","current","textarea","style","height","scrollHeight","calculateIsExtended","minHeight","Math","abs","initializeHeightGuidance","heightGuidance","offsetHeight","maxHeight","calculateHeight","isExtended","defaultHeight","String","calculateMaxHeight","useTextInputAutoExpand","dependencies","theme","useEmotionTheme","useRef","setScrollHeight","useState","setIsExtended","updateScrollHeight","useCallback","useLayoutEffect","maxHeightValue","sizes","minElementHeight","calculatedHeight","calculatedMaxHeight"],"mappings":";;AAAA,SAASA,EAAQC,GAAQC,GAAgB;AAAE,MAAIC,IAAO,OAAO,KAAKF,CAAM;AAAG,MAAI,OAAO,uBAAuB;AAAE,QAAIG,IAAU,OAAO,sBAAsBH,CAAM;AAAG,IAAAC,MAAmBE,IAAUA,EAAQ,OAAO,SAAUC,GAAK;AAAE,aAAO,OAAO,yBAAyBJ,GAAQI,CAAG,EAAE;AAAA,IAAY,CAAC,IAAIF,EAAK,KAAK,MAAMA,GAAMC,CAAO;AAAA,EAAG;AAAE,SAAOD;AAAM;AAEpV,SAASG,EAAcC,GAAQ;AAAE,WAASC,IAAI,GAAGA,IAAI,UAAU,QAAQA,KAAK;AAAE,QAAIC,IAAiB,UAAUD,CAAC,KAAnB,OAAuB,UAAUA,CAAC,IAAI,CAAA;AAAI,IAAAA,IAAI,IAAIR,EAAQ,OAAOS,CAAM,GAAG,EAAE,EAAE,QAAQ,SAAUC,GAAK;AAAEC,MAAAA,EAAgBJ,GAAQG,GAAKD,EAAOC,CAAG,CAAC;AAAA,IAAG,CAAC,IAAI,OAAO,4BAA4B,OAAO,iBAAiBH,GAAQ,OAAO,0BAA0BE,CAAM,CAAC,IAAIT,EAAQ,OAAOS,CAAM,CAAC,EAAE,QAAQ,SAAUC,GAAK;AAAE,aAAO,eAAeH,GAAQG,GAAK,OAAO,yBAAyBD,GAAQC,CAAG,CAAC;AAAA,IAAG,CAAC;AAAA,EAAG;AAAE,SAAOH;AAAQ;AAEzf,SAASI,EAAgBC,GAAKF,GAAKG,GAAO;AAAE,SAAIH,KAAOE,IAAO,OAAO,eAAeA,GAAKF,GAAK,EAAE,OAAOG,GAAO,YAAY,IAAM,cAAc,IAAM,UAAU,GAAI,CAAE,IAAYD,EAAIF,CAAG,IAAIG,GAAgBD;AAAK;AAUzM,IAAIE,IAAqBC,EAAO,OAAO,SAAUC,GAAO;AAC7D,SAAOV,EAAcA,EAAc,CAAA,GAAIW,EAAcX,EAAcA,EAAc;AAAA,IAC/E,WAAW;AAAA,EACf,GAAKU,CAAK,GAAG,IAAI;AAAA,IACb,kBAAkB;AAAA,EACtB,CAAG,CAAC,CAAC,GAAG,IAAI;AAAA,IACR,OAAOA,EAAM,UAAU,gBAAgB;AAAA,EAC3C,CAAG;AACH,CAAC;AACDF,EAAmB,cAAc;AACjCA,EAAmB,cAAc;AAC1B,IAAII,IAA0BH,EAAO,OAAO,SAAUC,GAAO;AAClE,SAAOG,EAAwBb,EAAc;AAAA,IAC3C,WAAW;AAAA,EACf,GAAKU,CAAK,CAAC;AACX,CAAC;AACDE,EAAwB,cAAc;AACtCA,EAAwB,cAAc;AAC/B,IAAIE,IAAiBL,EAAO,YAAY,SAAUC,GAAO;AAC9D,SAAOV,EAAcA,EAAc,CAAA,GAAIe,EAAeL,CAAK,CAAC,GAAG,IAAI;AAAA,IACjE,QAAQA,EAAM,WAAW;AAAA,EAC7B,CAAG;AACH,CAAC;AACDI,EAAe,cAAc;AAC7BA,EAAe,cAAc;ACtC7B,SAASE,EAAQV,GAAK;AAAE;AAA2B,SAAOU,IAAwB,OAAO,UAArB,cAA2C,OAAO,OAAO,YAA1B,WAAqC,SAAUV,GAAK;AAAE,WAAO,OAAOA;AAAA,EAAK,IAAI,SAAUA,GAAK;AAAE,WAAOA,KAAqB,OAAO,UAArB,cAA+BA,EAAI,gBAAgB,UAAUA,MAAQ,OAAO,YAAY,WAAW,OAAOA;AAAA,EAAK,GAAGU,EAAQV,CAAG;AAAG;AAE/U,SAASW,IAAW;AAAE,SAAAA,IAAW,OAAO,SAAS,OAAO,OAAO,SAAS,SAAUhB,GAAQ;AAAE,aAASC,IAAI,GAAGA,IAAI,UAAU,QAAQA,KAAK;AAAE,UAAIC,IAAS,UAAUD,CAAC;AAAG,eAASE,KAAOD;AAAU,QAAI,OAAO,UAAU,eAAe,KAAKA,GAAQC,CAAG,MAAKH,EAAOG,CAAG,IAAID,EAAOC,CAAG;AAAA,IAAO;AAAE,WAAOH;AAAA,EAAQ,GAAUgB,EAAS,MAAM,MAAM,SAAS;AAAG;AAElV,SAASC,EAAeC,GAAKjB,GAAG;AAAE,SAAOkB,EAAgBD,CAAG,KAAKE,EAAsBF,GAAKjB,CAAC,KAAKoB,EAA4BH,GAAKjB,CAAC,KAAKqB,EAAgB;AAAI;AAE7J,SAASA,IAAmB;AAAE,QAAM,IAAI,UAAU;AAAA,mFAA2I;AAAG;AAEhM,SAASD,EAA4BE,GAAGC,GAAQ;AAAE,MAAKD,GAAW;AAAA,QAAI,OAAOA,KAAM,SAAU,QAAOE,EAAkBF,GAAGC,CAAM;AAAG,QAAIE,IAAI,OAAO,UAAU,SAAS,KAAKH,CAAC,EAAE,MAAM,GAAG,EAAE;AAAgE,QAAzDG,MAAM,YAAYH,EAAE,gBAAaG,IAAIH,EAAE,YAAY,OAAUG,MAAM,SAASA,MAAM,MAAO,QAAO,MAAM,KAAKH,CAAC;AAAG,QAAIG,MAAM,eAAe,2CAA2C,KAAKA,CAAC,EAAG,QAAOD,EAAkBF,GAAGC,CAAM;AAAA;AAAG;AAE/Z,SAASC,EAAkBP,GAAKS,GAAK;AAAE,GAAIA,KAAO,QAAQA,IAAMT,EAAI,YAAQS,IAAMT,EAAI;AAAQ,WAASjB,IAAI,GAAG2B,IAAO,IAAI,MAAMD,CAAG,GAAG1B,IAAI0B,GAAK1B;AAAO,IAAA2B,EAAK3B,CAAC,IAAIiB,EAAIjB,CAAC;AAAK,SAAO2B;AAAM;AAEtL,SAASR,EAAsBF,GAAKjB,GAAG;AAAE,MAAI4B,IAAKX,KAAO,OAAO,OAAO,OAAO,SAAW,OAAeA,EAAI,OAAO,QAAQ,KAAKA,EAAI,YAAY;AAAG,MAAIW,KAAM,MAAc;AAAA,QAAIC,IAAO,IAAQC,IAAK,IAAUC,IAAK,IAAWC,GAAIC;AAAI,QAAI;AAAE,WAAKL,IAAKA,EAAG,KAAKX,CAAG,GAAG,EAAEa,KAAME,IAAKJ,EAAG,KAAI,GAAI,UAAoBC,EAAK,KAAKG,EAAG,KAAK,GAAO,EAAAhC,KAAK6B,EAAK,WAAW7B,KAA3D8B,IAAK;AAA6B;AAAA,IAAqC,SAASI,GAAK;AAAE,MAAAH,IAAK,IAAME,IAAKC;AAAA,IAAK,UAAC;AAAW,UAAI;AAAE,QAAI,CAACJ,KAAMF,EAAG,UAAa,QAAMA,EAAG,OAAS;AAAA,MAAI;AAAY,YAAIG,EAAI,OAAME;AAAA,MAAI;AAAA,IAAE;AAAE,WAAOJ;AAAA;AAAM;AAEhgB,SAASX,EAAgBD,GAAK;AAAE,MAAI,MAAM,QAAQA,CAAG,EAAG,QAAOA;AAAK;AAEpE,SAASkB,EAAgBC,GAAUC,GAAa;AAAE,MAAI,EAAED,aAAoBC;AAAgB,UAAM,IAAI,UAAU,mCAAmC;AAAK;AAExJ,SAASC,EAAkBvC,GAAQS,GAAO;AAAE,WAASR,IAAI,GAAGA,IAAIQ,EAAM,QAAQR,KAAK;AAAE,QAAIuC,IAAa/B,EAAMR,CAAC;AAAG,IAAAuC,EAAW,aAAaA,EAAW,cAAc,IAAOA,EAAW,eAAe,IAAU,WAAWA,MAAYA,EAAW,WAAW,KAAM,OAAO,eAAexC,GAAQwC,EAAW,KAAKA,CAAU;AAAA,EAAG;AAAE;AAE5T,SAASC,EAAaH,GAAaI,GAAYC,GAAa;AAAE,SAAID,KAAYH,EAAkBD,EAAY,WAAWI,CAAU,GAAiE,OAAO,eAAeJ,GAAa,aAAa,EAAE,UAAU,IAAO,GAAUA;AAAa;AAE5R,SAASM,EAAUC,GAAUC,GAAY;AAAE,MAAI,OAAOA,KAAe,cAAcA,MAAe;AAAQ,UAAM,IAAI,UAAU,oDAAoD;AAAK,EAAAD,EAAS,YAAY,OAAO,OAAOC,KAAcA,EAAW,WAAW,EAAE,aAAa,EAAE,OAAOD,GAAU,UAAU,IAAM,cAAc,GAAI,GAAI,GAAG,OAAO,eAAeA,GAAU,aAAa,EAAE,UAAU,GAAK,CAAE,GAAOC,KAAYC,EAAgBF,GAAUC,CAAU;AAAG;AAEnc,SAASC,EAAgBxB,GAAGyB,GAAG;AAAE,SAAAD,IAAkB,OAAO,iBAAiB,OAAO,eAAe,SAAS,SAAyBxB,GAAGyB,GAAG;AAAE,WAAAzB,EAAE,YAAYyB,GAAUzB;AAAA,EAAG,GAAUwB,EAAgBxB,GAAGyB,CAAC;AAAG;AAEvM,SAASC,EAAaC,GAAS;AAAE,MAAIC,IAA4BC,EAAyB;AAAI,SAAO,WAAgC;AAAE,QAAIC,IAAQC,EAAgBJ,CAAO,GAAGK;AAAQ,QAAIJ,GAA2B;AAAE,UAAIK,IAAYF,EAAgB,IAAI,EAAE;AAAa,MAAAC,IAAS,QAAQ,UAAUF,GAAO,WAAWG,CAAS;AAAA,IAAG;AAAS,MAAAD,IAASF,EAAM,MAAM,MAAM,SAAS;AAAK,WAAOI,EAA2B,MAAMF,CAAM;AAAA,EAAG;AAAG;AAExa,SAASE,EAA2BC,GAAMC,GAAM;AAAE,MAAIA,MAAS5C,EAAQ4C,CAAI,MAAM,YAAY,OAAOA,KAAS;AAAe,WAAOA;AAAa,MAAIA,MAAS;AAAU,UAAM,IAAI,UAAU,0DAA0D;AAAK,SAAOC,EAAuBF,CAAI;AAAG;AAE/R,SAASE,EAAuBF,GAAM;AAAE,MAAIA,MAAS;AAAU,UAAM,IAAI,eAAe,2DAA2D;AAAK,SAAOA;AAAM;AAErK,SAASN,IAA4B;AAA0E,MAApE,OAAO,UAAY,OAAe,CAAC,QAAQ,aAA6B,QAAQ,UAAU,KAAM,QAAO;AAAO,MAAI,OAAO,SAAU,WAAY,QAAO;AAAM,MAAI;AAAE,mBAAQ,UAAU,QAAQ,KAAK,QAAQ,UAAU,SAAS,CAAA,GAAI,WAAY;AAAA,IAAC,CAAC,CAAC,GAAU;AAAA,EAAM,QAAY;AAAE,WAAO;AAAA,EAAO;AAAE;AAExU,SAASE,EAAgB/B,GAAG;AAAE,SAAA+B,IAAkB,OAAO,iBAAiB,OAAO,eAAe,SAAS,SAAyB/B,GAAG;AAAE,WAAOA,EAAE,aAAa,OAAO,eAAeA,CAAC;AAAA,EAAG,GAAU+B,EAAgB/B,CAAC;AAAG;AAEnN,SAASnB,EAAgBC,GAAKF,GAAKG,GAAO;AAAE,SAAIH,KAAOE,IAAO,OAAO,eAAeA,GAAKF,GAAK,EAAE,OAAOG,GAAO,YAAY,IAAM,cAAc,IAAM,UAAU,GAAI,CAAE,IAAYD,EAAIF,CAAG,IAAIG,GAAgBD;AAAK;AAa7M,IAACwD,IAAwB,yBAAUC,GAAkB;AACtD,EAAAlB,EAAUiB,GAAUC,CAAgB;AAEpC,MAAIC,IAASd,EAAaY,CAAQ;AAElC,WAASA,IAAW;AAClB,QAAIG;AAEJ,IAAA5B,EAAgB,MAAMyB,CAAQ;AAE9B,aAASI,IAAO,UAAU,QAAQC,IAAO,IAAI,MAAMD,CAAI,GAAGE,IAAO,GAAGA,IAAOF,GAAME;AAC/E,MAAAD,EAAKC,CAAI,IAAI,UAAUA,CAAI;AAG7B,WAAAH,IAAQD,EAAO,KAAK,MAAMA,GAAQ,CAAC,IAAI,EAAE,OAAOG,CAAI,CAAC,GAErD9D,EAAgBwD,EAAuBI,CAAK,GAAG,SAAS;AAAA,MACtD,WAAWA,EAAM,MAAM,aAAa;AAAA,IAC1C,CAAK,GAED5D,EAAgBwD,EAAuBI,CAAK,GAAG,WAAW,SAAUI,GAAG;AACrE,MAAAJ,EAAM,SAAS;AAAA,QACb,WAAW;AAAA,MACnB,CAAO,GAEDA,EAAM,MAAM,QAAQI,CAAC;AAAA,IACvB,CAAC,GAEDhE,EAAgBwD,EAAuBI,CAAK,GAAG,UAAU,SAAUI,GAAG;AACpE,MAAAJ,EAAM,SAAS;AAAA,QACb,WAAW;AAAA,MACnB,CAAO,GAEDA,EAAM,MAAM,OAAOI,CAAC;AAAA,IACtB,CAAC,GAEMJ;AAAA,EACT;AAEA,SAAAvB,EAAaoB,GAAU,CAAC;AAAA,IACtB,KAAK;AAAA,IACL,OAAO,WAAkB;AACvB,UAAIQ,IAAwB,KAAK,MAAM,WACnCC,IAAYD,MAA0B,SAAS,CAAA,IAAKA,GAEpDE,IAAgBC,EAAaF,EAAU,MAAM/D,CAAkB,GAC/DkE,IAAiBxD,EAAesD,GAAe,CAAC,GAChDG,IAAOD,EAAe,CAAC,GACvBE,IAAYF,EAAe,CAAC,GAE5BG,IAAiBC,EAAe;AAAA,QAClC,OAAO;AAAA,UACL,WAAWhE;AAAA,QACrB;AAAA,QACQ,gBAAgB;AAAA,UACd,WAAWF;AAAA,QACrB;AAAA,MACA,GAAS2D,CAAS;AACZ,aAAoBQ,gBAAAA,EAAAA,cAAoBJ,GAAM1D,EAAS;AAAA,QACrD,gBAAgB;AAAA,QAChB,YAAY,KAAK,MAAM;AAAA,QACvB,aAAa,KAAK,MAAM;AAAA,QACxB,WAAW,KAAK,MAAM;AAAA,QACtB,QAAQ,KAAK,MAAM;AAAA,QACnB,WAAW,KAAK,MAAM;AAAA,QACtB,WAAW,KAAK,MAAM;AAAA,QACtB,SAAS,KAAK,MAAM;AAAA,MAC5B,GAAS2D,CAAS,GAAgBG,gBAAAA,gBAAoBC,GAAW/D,EAAS,CAAA,GAAI,KAAK,OAAO;AAAA,QAClF,MAAMgE,EAAkB;AAAA,QACxB,WAAWJ;AAAA,QACX,SAAS,KAAK;AAAA,QACd,QAAQ,KAAK;AAAA,QACb,QAAQ,KAAK,MAAM;AAAA,MAC3B,CAAO,CAAC,CAAC;AAAA,IACL;AAAA,EACJ,CAAG,CAAC,GAEKf;AACT,EAAEoB,EAAAA,SAAe;AAEjB7E,EAAgByD,GAAU,gBAAgB;AAAA,EACxC,WAAW;AAAA,EACX,UAAU;AAAA,EACV,UAAU;AAAA,EACV,OAAO;AAAA,EACP,MAAM;AAAA,EACN,QAAQ,WAAkB;AAAA,EAAC;AAAA,EAC3B,UAAU,WAAoB;AAAA,EAAC;AAAA,EAC/B,WAAW,WAAqB;AAAA,EAAC;AAAA,EACjC,YAAY,WAAsB;AAAA,EAAC;AAAA,EACnC,SAAS,WAAmB;AAAA,EAAC;AAAA,EAC7B,SAAS,WAAmB;AAAA,EAAC;AAAA,EAC7B,WAAW,CAAA;AAAA,EACX,aAAa;AAAA,EACb,UAAU;AAAA,EACV,MAAM;AAAA,EACN,MAAMqB,EAAK;AACb,CAAC;ACrHD,MAAMC,IAAwB,KAGxBC,IAAkB,GAWlBC,IAAkBA,CACtBC,MACW;AACX,MAAIC,IAAkB;AACtB,QAAM;AAAA,IAAEC,SAASC;AAAAA,EAAAA,IAAaH;AAC9B,SAAIG,MACFA,EAASC,MAAMC,SAAS,QAExBJ,IAAkBE,EAASG,cAC3BH,EAASC,MAAMC,SAAS,KAEnBJ;AACT,GAKMM,KAAsBA,CAC1BD,GACAE,GACAR,MAEOM,IAAe,KAAKN,EAAYE,UACnCO,KAAKC,IAAIJ,IAAeE,CAAS,IAAIV,IACrC,IAMAa,KAA2BA,CAC/BX,GACAY,MACS;AACT,MAAIZ,EAAYE,WAAWU,EAAeV,SAAS;AACjD,UAAM;AAAA,MAAEW,cAAAA;AAAAA,IAAAA,IAAiBb,EAAYE;AACrCU,IAAAA,EAAeV,QAAQM,YAAYK,GACnCD,EAAeV,QAAQY,YAAYD,IAAehB;AAAAA,EACpD;AACF,GAKMkB,KAAkBA,CACtBC,GACAV,GACAW,MAEID,IACK,GAAGV,IAAeR,CAAe,OAEnCmB,IAAgBC,OAAOD,CAAa,IAAI,IAM3CE,KAAqBA,CAACL,MACnBA,IAAY,GAAGA,CAAS,OAAO,IAyB3BM,KAAyBA,CAAC;AAAA,EACrCpB,aAAAA;AAAAA,EACAqB,cAAAA,IAAe,CAAA;AACc,MAAoC;AACjE,QAAMC,IAAQC,EAAAA,GACRX,IAAiBY,EAAAA,OAAuB;AAAA,IAAEhB,WAAW;AAAA,IAAGM,WAAW;AAAA,EAAA,CAAG,GAEtE,CAACR,GAAcmB,CAAe,IAAIC,EAAAA,SAAS,CAAC,GAC5C,CAACV,GAAYW,CAAa,IAAID,EAAAA,SAAS,EAAK,GAE5CE,IAAqBC,EAAAA,YAAY,MAAY;AACjDJ,IAAAA,EAAgB1B,EAAgBC,CAAW,CAAC;AAAA,EAC9C,GAAG,CAACA,GAAayB,CAAe,CAAC;AAGjCK,EAAAA,EAAAA,gBAAgB,MAAM;AACpB,IAAI9B,EAAYE,WACdS,GAAyBX,GAAaY,CAAc;AAAA,EAExD,GAAG,CAACZ,CAAW,CAAC,GAGhB8B,EAAAA,gBAAgB,MAAM;AACpB,UAAM;AAAA,MAAEtB,WAAAA;AAAAA,IAAAA,IAAcI,EAAeV;AACrCyB,IAAAA,EAAcpB,GAAoBD,GAAcE,GAAWR,CAAW,CAAC;AAAA,EACzE,GAAG,CAACM,GAAcN,CAAW,CAAC,GAG9B8B,EAAAA,gBAAgB,MAAM;AACpBF,IAAAA,EAAAA;AAAAA,EACF,GAAG,CAAC5B,GAAa4B,GAAoB,GAAGP,CAAY,CAAC;AAErD,QAAM;AAAA,IAAEP,WAAWiB;AAAAA,EAAAA,IAAmBnB,EAAeV,SAG/Ce,IAAgBK,EAAMU,MAAMC,kBAC5BC,IAAmBnB,GACvBC,GACAV,GACAW,CACF,GACMkB,IAAsBhB,GAAmBY,CAAc;AAE7D,SAAO;AAAA,IACLf,YAAAA;AAAAA,IACAX,QAAQ6B;AAAAA,IACRpB,WAAWqB;AAAAA,IACXP,oBAAAA;AAAAA,EAAAA;AAEJ;","x_google_ignoreList":[0,1]}