import{h as Pe,c2 as Z,r as I,cz as dt,cm as ht,c3 as G,cA as ft,cB as pt,c as Ae,b0 as gt,ce as mt,ao as vt,bk as bt,c$ as yt,j as ee,b_ as wt,b$ as kt,cg as Tt,c0 as xt,bI as Ot,I as Mt,d0 as Oe}from"./index-C08LT-R7.js";import{s as Fe}from"./sprintf-CQZ7AWXD.js";import{a as Rt}from"./useBasicWidgetState-DZWY5hj-.js";var le={},X={},de={},Le={},_e;function Me(){return _e||(_e=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Direction=void 0,function(n){n.Right="to right",n.Left="to left",n.Down="to bottom",n.Up="to top"}(e.Direction||(e.Direction={}))}(Le)),Le}var ze;function Ve(){return ze||(ze=1,function(e){var n=de&&de.__spreadArray||function(o,s,c){if(c||arguments.length===2)for(var m=0,D=s.length,R;m<D;m++)(R||!(m in s))&&(R||(R=Array.prototype.slice.call(s,0,m)),R[m]=s[m]);return o.concat(R||Array.prototype.slice.call(s))};Object.defineProperty(e,"__esModule",{value:!0}),e.useThumbOverlap=e.assertUnreachable=e.voidFn=e.getTrackBackground=e.replaceAt=e.schd=e.translate=e.getClosestThumbIndex=e.translateThumbs=e.getPaddingAndBorder=e.getMargin=e.checkInitialOverlap=e.checkValuesAgainstBoundaries=e.checkBoundaries=e.isVertical=e.relativeValue=e.normalizeValue=e.isStepDivisible=e.isTouchEvent=e.getStepDecimals=void 0;var r=Pe(),i=Me(),g=function(o){var s=o.toString().split(".")[1];return s?s.length:0};e.getStepDecimals=g;function x(o){return o.touches&&o.touches.length||o.changedTouches&&o.changedTouches.length}e.isTouchEvent=x;function l(o,s,c){var m=(s-o)/c,D=8,R=Number(m.toFixed(D));return parseInt(R.toString(),10)===R}e.isStepDivisible=l;function f(o,s,c,m,D,R,O){var b=1e11;if(o=Math.round(o*b)/b,!R){var $=O[s-1],j=O[s+1];if($&&$>o)return $;if(j&&j<o)return j}if(o>m)return m;if(o<c)return c;var C=Math.floor(o*b-c*b)%Math.floor(D*b),N=Math.floor(o*b-Math.abs(C)),H=C===0?o:N/b,F=Math.abs(C/b)<D/2?H:H+D,U=(0,e.getStepDecimals)(D);return parseFloat(F.toFixed(U))}e.normalizeValue=f;function L(o,s,c){return(o-s)/(c-s)}e.relativeValue=L;function A(o){return o===i.Direction.Up||o===i.Direction.Down}e.isVertical=A;function z(o,s,c){if(s>=c)throw new RangeError("min (".concat(s,") is equal/bigger than max (").concat(c,")"));if(o<s)throw new RangeError("value (".concat(o,") is smaller than min (").concat(s,")"));if(o>c)throw new RangeError("value (".concat(o,") is bigger than max (").concat(c,")"))}e.checkBoundaries=z;function k(o,s,c){return o<s?s:o>c?c:o}e.checkValuesAgainstBoundaries=k;function y(o){if(!(o.length<2)&&!o.slice(1).every(function(s,c){return o[c]<=s}))throw new RangeError("values={[".concat(o,"]} needs to be sorted when allowOverlap={false}"))}e.checkInitialOverlap=y;function h(o){var s=window.getComputedStyle(o);return{top:parseInt(s["margin-top"],10),bottom:parseInt(s["margin-bottom"],10),left:parseInt(s["margin-left"],10),right:parseInt(s["margin-right"],10)}}e.getMargin=h;function t(o){var s=window.getComputedStyle(o);return{top:parseInt(s["padding-top"],10)+parseInt(s["border-top-width"],10),bottom:parseInt(s["padding-bottom"],10)+parseInt(s["border-bottom-width"],10),left:parseInt(s["padding-left"],10)+parseInt(s["border-left-width"],10),right:parseInt(s["padding-right"],10)+parseInt(s["border-right-width"],10)}}e.getPaddingAndBorder=t;function a(o,s,c){var m=c?-1:1;o.forEach(function(D,R){return p(D,m*s[R].x,s[R].y)})}e.translateThumbs=a;function u(o,s,c,m){for(var D=0,R=_(o[0],s,c,m),O=1;O<o.length;O++){var b=_(o[O],s,c,m);b<R&&(R=b,D=O)}return D}e.getClosestThumbIndex=u;function p(o,s,c){o.style.transform="translate(".concat(s,"px, ").concat(c,"px)")}e.translate=p;var d=function(o){var s=[],c=null,m=function(){for(var D=[],R=0;R<arguments.length;R++)D[R]=arguments[R];s=D,!c&&(c=requestAnimationFrame(function(){c=null,o.apply(void 0,s)}))};return m};e.schd=d;function w(o,s,c){var m=o.slice(0);return m[s]=c,m}e.replaceAt=w;function E(o){var s=o.values,c=o.colors,m=o.min,D=o.max,R=o.direction,O=R===void 0?i.Direction.Right:R,b=o.rtl,$=b===void 0?!1:b;$&&O===i.Direction.Right?O=i.Direction.Left:$&&i.Direction.Left&&(O=i.Direction.Right);var j=s.slice(0).sort(function(N,H){return N-H}).map(function(N){return(N-m)/(D-m)*100}),C=j.reduce(function(N,H,F){return"".concat(N,", ").concat(c[F]," ").concat(H,"%, ").concat(c[F+1]," ").concat(H,"%")},"");return"linear-gradient(".concat(O,", ").concat(c[0]," 0%").concat(C,", ").concat(c[c.length-1]," 100%)")}e.getTrackBackground=E;function T(){}e.voidFn=T;function M(o){throw new Error("Didn't expect to get here")}e.assertUnreachable=M;var v=function(o,s,c,m,D){D===void 0&&(D=function(O){return O});var R=Math.ceil(n([o],Array.from(o.children),!0).reduce(function(O,b){var $=Math.ceil(b.getBoundingClientRect().width);if(b.innerText&&b.innerText.includes(c)&&b.childElementCount===0){var j=b.cloneNode(!0);j.innerHTML=D(s.toFixed(m)),j.style.visibility="hidden",document.body.appendChild(j),$=Math.ceil(j.getBoundingClientRect().width),document.body.removeChild(j)}return $>O?$:O},o.getBoundingClientRect().width));return R},B=function(o,s,c,m,D,R,O){O===void 0&&(O=function(j){return j});var b=[],$=function(j){var C=v(c[j],m[j],D,R,O),N=s[j].x;s.forEach(function(H,F){var U=H.x,V=v(c[F],m[F],D,R,O);j!==F&&(N>=U&&N<=U+V||N+C>=U&&N+C<=U+V)&&(b.includes(F)||(b.push(j),b.push(F),b=n(n([],b,!0),[j,F],!1),$(F)))})};return $(o),Array.from(new Set(b.sort()))},S=function(o,s,c,m,D,R){m===void 0&&(m=.1),D===void 0&&(D=" - "),R===void 0&&(R=function(F){return F});var O=(0,e.getStepDecimals)(m),b=(0,r.useState)({}),$=b[0],j=b[1],C=(0,r.useState)(R(s[c].toFixed(O))),N=C[0],H=C[1];return(0,r.useEffect)(function(){if(o){var F=o.getThumbs();if(F.length<1)return;var U={},V=o.getOffsets(),te=B(c,V,F,s,D,O,R),oe=R(s[c].toFixed(O));if(te.length){var ne=te.reduce(function(Q,ce,se,ue){return Q.length?n(n([],Q,!0),[V[ue[se]].x],!1):[V[ue[se]].x]},[]);if(Math.min.apply(Math,ne)===V[c].x){var re=[];te.forEach(function(Q){re.push(s[Q].toFixed(O))}),oe=Array.from(new Set(re.sort(function(Q,ce){return parseFloat(Q)-parseFloat(ce)}))).map(R).join(D);var Te=Math.min.apply(Math,ne),ie=Math.max.apply(Math,ne),xe=F[te[ne.indexOf(ie)]].getBoundingClientRect().width;U.left="".concat(Math.abs(Te-(ie+xe))/2,"px"),U.transform="translate(-50%, 0)"}else U.visibility="hidden"}H(oe),j(U)}},[o,s]),[N,$]};e.useThumbOverlap=S;function _(o,s,c,m){var D=o.getBoundingClientRect(),R=D.left,O=D.top,b=D.width,$=D.height;return A(m)?Math.abs(c-(O+$/2)):Math.abs(s-(R+b/2))}}(de)),de}var Ne;function Dt(){if(Ne)return X;Ne=1;var e=X&&X.__extends||function(){var k=function(y,h){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(t[u]=a[u])},k(y,h)};return function(y,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");k(y,h);function t(){this.constructor=y}y.prototype=h===null?Object.create(h):(t.prototype=h.prototype,new t)}}(),n=X&&X.__createBinding||(Object.create?function(k,y,h,t){t===void 0&&(t=h);var a=Object.getOwnPropertyDescriptor(y,h);(!a||("get"in a?!y.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return y[h]}}),Object.defineProperty(k,t,a)}:function(k,y,h,t){t===void 0&&(t=h),k[t]=y[h]}),r=X&&X.__setModuleDefault||(Object.create?function(k,y){Object.defineProperty(k,"default",{enumerable:!0,value:y})}:function(k,y){k.default=y}),i=X&&X.__importStar||function(k){if(k&&k.__esModule)return k;var y={};if(k!=null)for(var h in k)h!=="default"&&Object.prototype.hasOwnProperty.call(k,h)&&n(y,k,h);return r(y,k),y},g=X&&X.__spreadArray||function(k,y,h){if(h||arguments.length===2)for(var t=0,a=y.length,u;t<a;t++)(u||!(t in y))&&(u||(u=Array.prototype.slice.call(y,0,t)),u[t]=y[t]);return k.concat(u||Array.prototype.slice.call(y))};Object.defineProperty(X,"__esModule",{value:!0});var x=i(Pe()),l=Ve(),f=Me(),L=["ArrowRight","ArrowUp","k","PageUp"],A=["ArrowLeft","ArrowDown","j","PageDown"],z=function(k){e(y,k);function y(h){var t=k.call(this,h)||this;if(t.trackRef=x.createRef(),t.thumbRefs=[],t.state={draggedTrackPos:[-1,-1],draggedThumbIndex:-1,thumbZIndexes:new Array(t.props.values.length).fill(0).map(function(a,u){return u}),isChanged:!1,markOffsets:[]},t.getOffsets=function(){var a=t.props,u=a.direction,p=a.values,d=a.min,w=a.max,E=t.trackRef.current,T=E.getBoundingClientRect(),M=(0,l.getPaddingAndBorder)(E);return t.getThumbs().map(function(v,B){var S={x:0,y:0},_=v.getBoundingClientRect(),o=(0,l.getMargin)(v);switch(u){case f.Direction.Right:return S.x=(o.left+M.left)*-1,S.y=((_.height-T.height)/2+M.top)*-1,S.x+=T.width*(0,l.relativeValue)(p[B],d,w)-_.width/2,S;case f.Direction.Left:return S.x=(o.right+M.right)*-1,S.y=((_.height-T.height)/2+M.top)*-1,S.x+=T.width-T.width*(0,l.relativeValue)(p[B],d,w)-_.width/2,S;case f.Direction.Up:return S.x=((_.width-T.width)/2+o.left+M.left)*-1,S.y=-M.left,S.y+=T.height-T.height*(0,l.relativeValue)(p[B],d,w)-_.height/2,S;case f.Direction.Down:return S.x=((_.width-T.width)/2+o.left+M.left)*-1,S.y=-M.left,S.y+=T.height*(0,l.relativeValue)(p[B],d,w)-_.height/2,S;default:return(0,l.assertUnreachable)(u)}})},t.getThumbs=function(){return t.trackRef&&t.trackRef.current?Array.from(t.trackRef.current.children).filter(function(a){return a.hasAttribute("aria-valuenow")}):(console.warn("No thumbs found in the track container. Did you forget to pass & spread the `props` param in renderTrack?"),[])},t.getTargetIndex=function(a){return t.getThumbs().findIndex(function(u){return u===a.target||u.contains(a.target)})},t.addTouchEvents=function(a){document.addEventListener("touchmove",t.schdOnTouchMove,{passive:!1}),document.addEventListener("touchend",t.schdOnEnd,{passive:!1}),document.addEventListener("touchcancel",t.schdOnEnd,{passive:!1})},t.addMouseEvents=function(a){document.addEventListener("mousemove",t.schdOnMouseMove),document.addEventListener("mouseup",t.schdOnEnd)},t.onMouseDownTrack=function(a){var u;if(a.button===0)if(a.persist(),a.preventDefault(),t.addMouseEvents(a.nativeEvent),t.props.values.length>1&&t.props.draggableTrack){if(t.thumbRefs.some(function(d){var w;return(w=d.current)===null||w===void 0?void 0:w.contains(a.target)}))return;t.setState({draggedTrackPos:[a.clientX,a.clientY]},function(){return t.onMove(a.clientX,a.clientY)})}else{var p=(0,l.getClosestThumbIndex)(t.thumbRefs.map(function(d){return d.current}),a.clientX,a.clientY,t.props.direction);(u=t.thumbRefs[p].current)===null||u===void 0||u.focus(),t.setState({draggedThumbIndex:p},function(){return t.onMove(a.clientX,a.clientY)})}},t.onResize=function(){(0,l.translateThumbs)(t.getThumbs(),t.getOffsets(),t.props.rtl),t.calculateMarkOffsets()},t.onTouchStartTrack=function(a){var u;if(a.persist(),t.addTouchEvents(a.nativeEvent),t.props.values.length>1&&t.props.draggableTrack){if(t.thumbRefs.some(function(d){var w;return(w=d.current)===null||w===void 0?void 0:w.contains(a.target)}))return;t.setState({draggedTrackPos:[a.touches[0].clientX,a.touches[0].clientY]},function(){return t.onMove(a.touches[0].clientX,a.touches[0].clientY)})}else{var p=(0,l.getClosestThumbIndex)(t.thumbRefs.map(function(d){return d.current}),a.touches[0].clientX,a.touches[0].clientY,t.props.direction);(u=t.thumbRefs[p].current)===null||u===void 0||u.focus(),t.setState({draggedThumbIndex:p},function(){return t.onMove(a.touches[0].clientX,a.touches[0].clientY)})}},t.onMouseOrTouchStart=function(a){if(!t.props.disabled){var u=(0,l.isTouchEvent)(a);if(!(!u&&a.button!==0)){var p=t.getTargetIndex(a);p!==-1&&(u?t.addTouchEvents(a):t.addMouseEvents(a),t.setState({draggedThumbIndex:p,thumbZIndexes:t.state.thumbZIndexes.map(function(d,w){return w===p?Math.max.apply(Math,t.state.thumbZIndexes):d<=t.state.thumbZIndexes[p]?d:d-1})}))}}},t.onMouseMove=function(a){a.preventDefault(),t.onMove(a.clientX,a.clientY)},t.onTouchMove=function(a){a.preventDefault(),t.onMove(a.touches[0].clientX,a.touches[0].clientY)},t.onKeyDown=function(a){var u=t.props,p=u.values,d=u.onChange,w=u.step,E=u.rtl,T=u.direction,M=t.state.isChanged,v=t.getTargetIndex(a.nativeEvent),B=E||T===f.Direction.Left||T===f.Direction.Down?-1:1;v!==-1&&(L.includes(a.key)?(a.preventDefault(),t.setState({draggedThumbIndex:v,isChanged:!0}),d((0,l.replaceAt)(p,v,t.normalizeValue(p[v]+B*(a.key==="PageUp"?w*10:w),v)))):A.includes(a.key)?(a.preventDefault(),t.setState({draggedThumbIndex:v,isChanged:!0}),d((0,l.replaceAt)(p,v,t.normalizeValue(p[v]-B*(a.key==="PageDown"?w*10:w),v)))):a.key==="Tab"?t.setState({draggedThumbIndex:-1},function(){M&&t.fireOnFinalChange()}):M&&t.fireOnFinalChange())},t.onKeyUp=function(a){var u=t.state.isChanged;t.setState({draggedThumbIndex:-1},function(){u&&t.fireOnFinalChange()})},t.onMove=function(a,u){var p=t.state,d=p.draggedThumbIndex,w=p.draggedTrackPos,E=t.props,T=E.direction,M=E.min,v=E.max,B=E.onChange,S=E.values,_=E.step,o=E.rtl;if(d===-1&&w[0]===-1&&w[1]===-1)return null;var s=t.trackRef.current;if(!s)return null;var c=s.getBoundingClientRect(),m=(0,l.isVertical)(T)?c.height:c.width;if(w[0]!==-1&&w[1]!==-1){var D=a-w[0],R=u-w[1],O=0;switch(T){case f.Direction.Right:case f.Direction.Left:O=D/m*(v-M);break;case f.Direction.Down:case f.Direction.Up:O=R/m*(v-M);break;default:(0,l.assertUnreachable)(T)}if(o&&(O*=-1),Math.abs(O)>=_/2){for(var b=0;b<t.thumbRefs.length;b++){if(S[b]===v&&Math.sign(O)===1||S[b]===M&&Math.sign(O)===-1)return;var $=S[b]+O;$>v?O=v-S[b]:$<M&&(O=M-S[b])}for(var j=S.slice(0),b=0;b<t.thumbRefs.length;b++)j=(0,l.replaceAt)(j,b,t.normalizeValue(S[b]+O,b));t.setState({draggedTrackPos:[a,u]}),B(j)}}else{var C=0;switch(T){case f.Direction.Right:C=(a-c.left)/m*(v-M)+M;break;case f.Direction.Left:C=(m-(a-c.left))/m*(v-M)+M;break;case f.Direction.Down:C=(u-c.top)/m*(v-M)+M;break;case f.Direction.Up:C=(m-(u-c.top))/m*(v-M)+M;break;default:(0,l.assertUnreachable)(T)}o&&(C=v+M-C),Math.abs(S[d]-C)>=_/2&&B((0,l.replaceAt)(S,d,t.normalizeValue(C,d)))}},t.normalizeValue=function(a,u){var p=t.props,d=p.min,w=p.max,E=p.step,T=p.allowOverlap,M=p.values;return(0,l.normalizeValue)(a,u,d,w,E,T,M)},t.onEnd=function(a){if(a.preventDefault(),document.removeEventListener("mousemove",t.schdOnMouseMove),document.removeEventListener("touchmove",t.schdOnTouchMove),document.removeEventListener("mouseup",t.schdOnEnd),document.removeEventListener("touchend",t.schdOnEnd),document.removeEventListener("touchcancel",t.schdOnEnd),t.state.draggedThumbIndex===-1&&t.state.draggedTrackPos[0]===-1&&t.state.draggedTrackPos[1]===-1)return null;t.setState({draggedThumbIndex:-1,draggedTrackPos:[-1,-1]},function(){t.fireOnFinalChange()})},t.fireOnFinalChange=function(){t.setState({isChanged:!1});var a=t.props,u=a.onFinalChange,p=a.values;u&&u(p)},t.updateMarkRefs=function(a){if(!a.renderMark){t.numOfMarks=void 0,t.markRefs=void 0;return}t.numOfMarks=(a.max-a.min)/t.props.step,t.markRefs=[];for(var u=0;u<t.numOfMarks+1;u++)t.markRefs[u]=x.createRef()},t.calculateMarkOffsets=function(){if(!(!t.props.renderMark||!t.trackRef||!t.numOfMarks||!t.markRefs||t.trackRef.current===null)){for(var a=window.getComputedStyle(t.trackRef.current),u=parseInt(a.width,10),p=parseInt(a.height,10),d=parseInt(a.paddingLeft,10),w=parseInt(a.paddingTop,10),E=[],T=0;T<t.numOfMarks+1;T++){var M=9999,v=9999;if(t.markRefs[T].current){var B=t.markRefs[T].current.getBoundingClientRect();M=B.height,v=B.width}t.props.direction===f.Direction.Left||t.props.direction===f.Direction.Right?E.push([Math.round(u/t.numOfMarks*T+d-v/2),-Math.round((M-p)/2)]):E.push([Math.round(p/t.numOfMarks*T+w-M/2),-Math.round((v-u)/2)])}t.setState({markOffsets:E})}},h.step===0)throw new Error('"step" property should be a positive number');return t.schdOnMouseMove=(0,l.schd)(t.onMouseMove),t.schdOnTouchMove=(0,l.schd)(t.onTouchMove),t.schdOnEnd=(0,l.schd)(t.onEnd),t.thumbRefs=h.values.map(function(){return x.createRef()}),t.updateMarkRefs(h),t}return y.prototype.componentDidMount=function(){var h=this,t=this.props,a=t.values,u=t.min,p=t.step;this.resizeObserver=window.ResizeObserver?new window.ResizeObserver(this.onResize):{observe:function(){return window.addEventListener("resize",h.onResize)},unobserve:function(){return window.removeEventListener("resize",h.onResize)}},document.addEventListener("touchstart",this.onMouseOrTouchStart,{passive:!1}),document.addEventListener("mousedown",this.onMouseOrTouchStart,{passive:!1}),!this.props.allowOverlap&&(0,l.checkInitialOverlap)(this.props.values),this.props.values.forEach(function(d){return(0,l.checkBoundaries)(d,h.props.min,h.props.max)}),this.resizeObserver.observe(this.trackRef.current),(0,l.translateThumbs)(this.getThumbs(),this.getOffsets(),this.props.rtl),this.calculateMarkOffsets(),a.forEach(function(d){(0,l.isStepDivisible)(u,d,p)||console.warn("The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.")})},y.prototype.componentDidUpdate=function(h,t){var a=this.props,u=a.max,p=a.min,d=a.step,w=a.values,E=a.rtl;(h.max!==u||h.min!==p||h.step!==d)&&this.updateMarkRefs(this.props),(0,l.translateThumbs)(this.getThumbs(),this.getOffsets(),E),(h.max!==u||h.min!==p||h.step!==d||t.markOffsets.length!==this.state.markOffsets.length)&&(this.calculateMarkOffsets(),w.forEach(function(T){(0,l.isStepDivisible)(p,T,d)||console.warn("The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.")}))},y.prototype.componentWillUnmount=function(){var h={passive:!1};document.removeEventListener("mousedown",this.onMouseOrTouchStart,h),document.removeEventListener("mousemove",this.schdOnMouseMove),document.removeEventListener("touchmove",this.schdOnTouchMove),document.removeEventListener("touchstart",this.onMouseOrTouchStart),document.removeEventListener("mouseup",this.schdOnEnd),document.removeEventListener("touchend",this.schdOnEnd),this.resizeObserver.unobserve(this.trackRef.current)},y.prototype.render=function(){var h=this,t=this.props,a=t.renderTrack,u=t.renderThumb,p=t.renderMark,d=p===void 0?function(){return null}:p,w=t.values,E=t.min,T=t.max,M=t.allowOverlap,v=t.disabled,B=this.state,S=B.draggedThumbIndex,_=B.thumbZIndexes,o=B.markOffsets;return a({props:{style:{transform:"scale(1)",cursor:S>-1?"grabbing":this.props.draggableTrack?(0,l.isVertical)(this.props.direction)?"ns-resize":"ew-resize":w.length===1&&!v?"pointer":"inherit"},onMouseDown:v?l.voidFn:this.onMouseDownTrack,onTouchStart:v?l.voidFn:this.onTouchStartTrack,ref:this.trackRef},isDragged:this.state.draggedThumbIndex>-1,disabled:v,children:g(g([],o.map(function(s,c,m){return d({props:{style:h.props.direction===f.Direction.Left||h.props.direction===f.Direction.Right?{position:"absolute",left:"".concat(s[0],"px"),marginTop:"".concat(s[1],"px")}:{position:"absolute",top:"".concat(s[0],"px"),marginLeft:"".concat(s[1],"px")},key:"mark".concat(c),ref:h.markRefs[c]},index:c})}),!0),w.map(function(s,c){var m=h.state.draggedThumbIndex===c;return u({index:c,value:s,isDragged:m,props:{style:{position:"absolute",zIndex:_[c],cursor:v?"inherit":m?"grabbing":"grab",userSelect:"none",touchAction:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none"},key:c,tabIndex:v?void 0:0,"aria-valuemax":M?T:w[c+1]||T,"aria-valuemin":M?E:w[c-1]||E,"aria-valuenow":s,draggable:!1,ref:h.thumbRefs[c],role:"slider",onKeyDown:v?l.voidFn:h.onKeyDown,onKeyUp:v?l.voidFn:h.onKeyUp}})}),!0)})},y.defaultProps={step:1,direction:f.Direction.Right,rtl:!1,disabled:!1,allowOverlap:!1,draggableTrack:!1,min:0,max:100},y}(x.Component);return X.default=z,X}var Ue;function Et(){return Ue||(Ue=1,function(e){var n=le&&le.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(e,"__esModule",{value:!0}),e.checkValuesAgainstBoundaries=e.relativeValue=e.useThumbOverlap=e.Direction=e.getTrackBackground=e.Range=void 0;var r=n(Dt());e.Range=r.default;var i=Ve();Object.defineProperty(e,"getTrackBackground",{enumerable:!0,get:function(){return i.getTrackBackground}}),Object.defineProperty(e,"useThumbOverlap",{enumerable:!0,get:function(){return i.useThumbOverlap}}),Object.defineProperty(e,"relativeValue",{enumerable:!0,get:function(){return i.relativeValue}}),Object.defineProperty(e,"checkValuesAgainstBoundaries",{enumerable:!0,get:function(){return i.checkValuesAgainstBoundaries}});var g=Me();Object.defineProperty(e,"Direction",{enumerable:!0,get:function(){return g.Direction}})}(le)),le}var Xe=Et();function He(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),r.push.apply(r,i)}return r}function he(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?He(Object(r),!0).forEach(function(i){St(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):He(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function St(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var fe=Z("div",{position:"relative",width:"100%"});fe.displayName="Root",fe.displayName="Root",fe.displayName="StyledRoot";var pe=Z("div",function(e){var n=e.$theme,r=e.$value,i=r===void 0?[]:r,g=e.$disabled,x=e.$isDragged,l=n.sizing,f="inherit";return g?f="not-allowed":x?f="grabbing":i.length===1&&(f="pointer"),{paddingTop:l.scale600,paddingBottom:l.scale600,paddingRight:l.scale600,paddingLeft:l.scale600,display:"flex",cursor:f,backgroundColor:n.colors.sliderTrackFill}});pe.displayName="Track",pe.displayName="Track",pe.displayName="StyledTrack";var ge=Z("div",function(e){var n=e.$theme,r=e.$value,i=r===void 0?[]:r,g=e.$min,x=e.$max,l=e.$disabled,f=n.colors,L=n.borders,A=n.direction,z=n.borders.useRoundedCorners?L.radius100:0;return{borderTopLeftRadius:z,borderTopRightRadius:z,borderBottomRightRadius:z,borderBottomLeftRadius:z,background:Xe.getTrackBackground({values:i,colors:i.length===1?[l?f.borderOpaque:f.primary,l?f.backgroundSecondary:f.borderOpaque]:[l?f.backgroundSecondary:f.borderOpaque,l?f.borderOpaque:f.primary,l?f.backgroundSecondary:f.borderOpaque],min:g||0,max:x||0,rtl:A==="rtl"}),height:"2px",width:"100%",alignSelf:"center",cursor:l?"not-allowed":"inherit"}});ge.displayName="InnerTrack",ge.displayName="InnerTrack",ge.displayName="StyledInnerTrack";var me=Z("div",function(e){return{width:"4px",height:"2px",backgroundColor:e.$theme.colors.backgroundPrimary,marginLeft:"16px"}});me.displayName="Mark",me.displayName="Mark",me.displayName="StyledMark";var ve=Z("div",function(e){return he(he({},e.$theme.typography.font200),{},{color:e.$theme.colors.contentPrimary})});ve.displayName="Tick",ve.displayName="Tick",ve.displayName="StyledTick";var be=Z("div",function(e){var n=e.$theme,r=n.sizing;return{display:"flex",justifyContent:"space-between",alignItems:"center",paddingRight:r.scale600,paddingLeft:r.scale600,paddingBottom:r.scale400}});be.displayName="TickBar",be.displayName="TickBar",be.displayName="StyledTickBar";var ye=Z("div",function(e){var n=e.$theme,r=e.$value,i=r===void 0?[]:r,g=e.$thumbIndex,x=e.$disabled,l=i.length===2&&g===0,f=i.length===2&&g===1;return n.direction==="rtl"&&(f||l)&&(l=!l,f=!f),{height:"24px",width:"24px",borderTopLeftRadius:"24px",borderTopRightRadius:"24px",borderBottomLeftRadius:"24px",borderBottomRightRadius:"24px",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:x?n.colors.sliderHandleFillDisabled:n.colors.sliderHandleFill,outline:"none",boxShadow:e.$isFocusVisible?"0 0 0 3px ".concat(n.colors.accent):"0 1px 4px rgba(0, 0, 0, 0.12)",cursor:x?"not-allowed":"inherit"}});ye.displayName="Thumb",ye.displayName="Thumb",ye.displayName="StyledThumb";var we=Z("div",function(e){var n=e.$disabled,r=e.$theme;return{position:"absolute",top:"-16px",width:"4px",height:"20px",backgroundColor:n?r.colors.sliderHandleFillDisabled:r.colors.sliderHandleInnerFill}});we.displayName="InnerThumb",we.displayName="InnerThumb",we.displayName="StyledInnerThumb";var ke=Z("div",function(e){var n=e.$disabled,r=e.$theme;return he(he({position:"absolute",top:"-".concat(r.sizing.scale1400)},r.typography.font200),{},{backgroundColor:n?r.colors.sliderHandleFillDisabled:r.colors.sliderHandleInnerFill,color:r.colors.contentInversePrimary,paddingLeft:r.sizing.scale600,paddingRight:r.sizing.scale600,paddingTop:r.sizing.scale500,paddingBottom:r.sizing.scale500,borderBottomLeftRadius:"48px",borderBottomRightRadius:"48px",borderTopLeftRadius:"48px",borderTopRightRadius:"48px",whiteSpace:"nowrap"})});ke.displayName="ThumbValue",ke.displayName="ThumbValue",ke.displayName="StyledThumbValue";function qe(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),r.push.apply(r,i)}return r}function It(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?qe(Object(r),!0).forEach(function(i){jt(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qe(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function jt(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function K(){return K=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},K.apply(this,arguments)}function W(e,n){return Pt(e)||Ct(e,n)||$t(e,n)||Bt()}function Bt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $t(e,n){if(e){if(typeof e=="string")return Ke(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ke(e,n)}}function Ke(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=new Array(n);r<n;r++)i[r]=e[r];return i}function Ct(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i=[],g=!0,x=!1,l,f;try{for(r=r.call(e);!(g=(l=r.next()).done)&&(i.push(l.value),!(n&&i.length===n));g=!0);}catch(L){x=!0,f=L}finally{try{!g&&r.return!=null&&r.return()}finally{if(x)throw f}}return i}}function Pt(e){if(Array.isArray(e))return e}var At=function(e){if(e.length>2||e.length===0)throw new Error("the value prop represents positions of thumbs, so its length can be only one or two");return e};function Ft(e){var n=e.overrides,r=n===void 0?{}:n,i=e.disabled,g=i===void 0?!1:i,x=e.marks,l=x===void 0?!1:x,f=e.onChange,L=f===void 0?function(){}:f,A=e.onFinalChange,z=A===void 0?function(){}:A,k=e.min,y=k===void 0?0:k,h=e.max,t=h===void 0?100:h,a=e.step,u=a===void 0?1:a,p=e.persistentThumb,d=p===void 0?!1:p,w=e.valueToLabel,E=w===void 0?function(P){return P}:w,T=e.value,M=I.useContext(dt),v=I.useState(!1),B=W(v,2),S=B[0],_=B[1],o=I.useState(!1),s=W(o,2),c=s[0],m=s[1],D=I.useState(!1),R=W(D,2),O=R[0],b=R[1],$=I.useState(-1),j=W($,2),C=j[0],N=j[1],H=I.useCallback(function(P){ht(P)&&b(!0);var Y=P.target.parentNode.firstChild===P.target?0:1;N(Y)},[]),F=I.useCallback(function(P){O!==!1&&b(!1),N(-1)},[]),U=At(T),V={$disabled:g,$step:u,$min:y,$max:t,$marks:l,$value:U,$isFocusVisible:O},te=G(r.Root,fe),oe=W(te,2),ne=oe[0],re=oe[1],Te=G(r.Track,pe),ie=W(Te,2),xe=ie[0],Q=ie[1],ce=G(r.InnerTrack,ge),se=W(ce,2),ue=se[0],We=se[1],Ye=G(r.Thumb,ye),Re=W(Ye,2),Ze=Re[0],Ge=Re[1],Qe=G(r.InnerThumb,we),De=W(Qe,2),Je=De[0],et=De[1],tt=G(r.ThumbValue,ke),Ee=W(tt,2),nt=Ee[0],rt=Ee[1],at=G(r.Tick,ve),Se=W(at,2),Ie=Se[0],je=Se[1],ot=G(r.TickBar,be),Be=W(ot,2),it=Be[0],st=Be[1],ct=G(r.Mark,me),$e=W(ct,2),ut=$e[0],lt=$e[1];return I.createElement(ne,K({"data-baseweb":"slider"},V,re,{onFocus:pt(re,H),onBlur:ft(re,F)}),I.createElement(Xe.Range,K({step:u,min:y,max:t,values:U,disabled:g,onChange:function(P){return L({value:P})},onFinalChange:function(P){return z({value:P})},rtl:M.direction==="rtl",renderTrack:function(P){var Y=P.props,q=P.children,J=P.isDragged;return I.createElement(xe,K({onMouseDown:Y.onMouseDown,onTouchStart:Y.onTouchStart,$isDragged:J},V,Q),I.createElement(ue,K({$isDragged:J,ref:Y.ref},V,We),q))},renderThumb:function(P){var Y=P.props,q=P.index,J=P.isDragged,Ce=d||(!!q&&c||!q&&S||J)&&!g;return I.createElement(Ze,K({},Y,{onMouseEnter:function(){q===0?_(!0):m(!0)},onMouseLeave:function(){q===0?_(!1):m(!1)},$thumbIndex:q,$isDragged:J,style:It({},Y.style)},V,Ge,{$isFocusVisible:O&&C===q}),Ce&&I.createElement(nt,K({$thumbIndex:q,$isDragged:J},V,rt),E(U[q])),Ce&&I.createElement(Je,K({$thumbIndex:q,$isDragged:J},V,et)))}},l?{renderMark:function(P){var Y=P.props,q=P.index;return I.createElement(ut,K({$markIndex:q},Y,V,lt))}}:{})),I.createElement(it,K({},V,st),I.createElement(Ie,K({},V,je),E(y)),I.createElement(Ie,K({},V,je),E(t))))}const Lt=Ae("div",{target:"ew7r33m1"})(({disabled:e,theme:n})=>({alignItems:"center",backgroundColor:e?n.colors.gray:n.colors.primary,borderTopLeftRadius:"100%",borderTopRightRadius:"100%",borderBottomLeftRadius:"100%",borderBottomRightRadius:"100%",borderTopStyle:"none",borderBottomStyle:"none",borderRightStyle:"none",borderLeftStyle:"none",boxShadow:"none",display:"flex",justifyContent:"center",height:n.sizes.sliderThumb,width:n.sizes.sliderThumb,":focus":{outline:"none"},":focus-visible":{boxShadow:`0 0 0 0.2rem ${gt(n.colors.primary,.5)}`}}),""),_t=Ae("div",{target:"ew7r33m0"})(({disabled:e,theme:n})=>({fontFamily:n.genericFonts.bodyFont,fontSize:n.fontSizes.sm,color:e?n.colors.gray:n.colors.primary,top:"-1.6em",position:"absolute",whiteSpace:"nowrap",backgroundColor:n.colors.transparent,lineHeight:n.lineHeights.base,fontWeight:n.fontWeights.normal,pointerEvents:"none"}),""),zt=200;function Vt({disabled:e,element:n,widgetMgr:r,fragmentId:i}){const[g,x]=Rt({getStateFromWidgetMgr:Nt,getDefaultStateFromProto:Ut,getCurrStateFromProto:Xt,updateWidgetMgrState:Ht,element:n,widgetMgr:r,fragmentId:i}),[l,f]=I.useState(g),L=I.useRef(null),[A]=I.useState([]),[z]=I.useState([]),k=vt(),y=l.map(d=>Kt(d,n)),h=n.label;I.useEffect(()=>{f(g)},[g]);const t=I.useCallback(bt(zt,d=>{x({value:d,fromUi:!0})}),[]),a=I.useCallback(({value:d})=>{f(d),t(d)},[t]),u=I.useCallback(I.forwardRef(function(d,w){const{$thumbIndex:E}=d,T=E||0;A[T]=w,z[T]||=I.createRef();const M=yt(d,["role","style","aria-valuemax","aria-valuemin","aria-valuenow","tabIndex","onKeyUp","onKeyDown","onMouseEnter","onMouseLeave","draggable"]),v=y[T];return ee.jsx(Lt,{...M,disabled:d.$disabled===!0,ref:A[T],"aria-valuetext":v,"aria-label":h,children:ee.jsx(_t,{"data-testid":"stSliderThumbValue",disabled:d.$disabled===!0,ref:z[T],children:v})})}),[]);I.useEffect(()=>{z.map((v,B)=>{v.current&&(v.current.innerText=y[B])}),A.map((v,B)=>{v.current&&v.current.setAttribute("aria-valuetext",y[B])});const d=L.current??null,w=A[0].current,E=A[1]?.current,T=z[0].current,M=z[1]?.current;Yt(d,w,E,T,M)});const p=I.useCallback(({$disabled:d})=>({height:k.spacing.twoXS,...d?{background:k.colors.darkenedBgMix25}:{}}),[k.colors.darkenedBgMix25,k.spacing.twoXS]);return ee.jsxs("div",{ref:L,className:"stSlider","data-testid":"stSlider",children:[ee.jsx(wt,{label:n.label,disabled:e,labelVisibility:kt(n.labelVisibility?.value),children:n.help&&ee.jsx(Tt,{children:ee.jsx(xt,{content:n.help,placement:Ot.TOP_RIGHT})})}),ee.jsx(Ft,{min:n.min,max:n.max,step:n.step,value:Wt(l,n),onChange:a,disabled:e,overrides:{Thumb:u,Track:{style:{backgroundColor:"none !important",paddingLeft:k.spacing.none,paddingRight:k.spacing.none,paddingTop:`calc((${k.sizes.minElementHeight} - ${k.spacing.twoXS}) / 2)`,paddingBottom:`calc((${k.sizes.minElementHeight} - ${k.spacing.twoXS}) / 2)`}},InnerTrack:{style:p},TickBar:()=>null}})]})}function Nt(e,n){return e.getDoubleArrayValue(n)}function Ut(e){return e.default}function Xt(e){return e.value}function Ht(e,n,r,i){n.setDoubleArrayValue(e,r.value,{fromUi:r.fromUi},i)}function qt(e){const{dataType:n}=e;return n===Oe.DataType.DATETIME||n===Oe.DataType.DATE||n===Oe.DataType.TIME}function Kt(e,n){const{format:r,options:i}=n;return qt(n)?Mt.utc(e/1e3).format(r):i.length>0?Fe.sprintf(r,i[e]):Fe.sprintf(r,e)}function Wt(e,n){const{min:r,max:i}=n;let g=e[0],x=e.length>1?e[1]:e[0];return g>x&&(g=x),g<r&&(g=r),g>i&&(g=i),x<r&&(x=r),x>i&&(x=i),e.length>1?[g,x]:[g]}function Yt(e,n,r,i,g){!e||!n||!i||(ae(e,n,i),r&&g&&(ae(e,r,g),Zt(e,n,r,i,g)))}function ae(e,n,r){const i=e.getBoundingClientRect(),g=n.getBoundingClientRect(),x=r.getBoundingClientRect(),l=g.left+g.width/2,f=l-x.width/2<i.left,L=l+x.width/2>i.right;r.style.left=f?"0":"",r.style.right=L?"0":""}function Zt(e,n,r,i,g){const x=e.getBoundingClientRect(),l=n.getBoundingClientRect(),f=r.getBoundingClientRect(),L=i.getBoundingClientRect(),A=g.getBoundingClientRect(),z=x.left+x.width/2,k=l.left+l.width/2,y=f.left+f.width/2,h=k-L.width/2>=x.left,t=y+A.width/2<=x.right,a=l.left-L.width>=x.left,u=f.right+A.width<=x.right,p=h?L.width/2:L.width,d=t?A.width/2:A.width,w=k+p;if(y-d-w>24){ae(e,n,i),ae(e,r,g);return}if(a&&u){i.style.left="",i.style.right=`${Math.round(l.width)}px`,g.style.left=`${Math.round(f.width)}px`,g.style.right="";return}k<z?(ae(e,n,i),g.style.left=`${Math.round(k+p+24-y)}px`,g.style.right=""):(ae(e,r,g),i.style.left="",i.style.right=`${-Math.round(y-d-24-k)}px`)}const Gt=mt(I.memo(Vt));export{Gt as default};
