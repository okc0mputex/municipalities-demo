{"version":3,"file":"index-Bx-jWrZi.js","sources":["../../../node_modules/react-range/lib/types.js","../../../node_modules/react-range/lib/utils.js","../../../node_modules/react-range/lib/Range.js","../../../node_modules/react-range/lib/index.js","../../../node_modules/baseui/esm/slider/styled-components.js","../../../node_modules/baseui/esm/slider/slider.js","../../../streamlit/frontend/lib/src/components/widgets/Slider/styled-components.ts","../../../streamlit/frontend/lib/src/components/widgets/Slider/Slider.tsx"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Direction = void 0;\nvar Direction;\n(function (Direction) {\n    Direction[\"Right\"] = \"to right\";\n    Direction[\"Left\"] = \"to left\";\n    Direction[\"Down\"] = \"to bottom\";\n    Direction[\"Up\"] = \"to top\";\n})(Direction = exports.Direction || (exports.Direction = {}));\n","\"use strict\";\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useThumbOverlap = exports.assertUnreachable = exports.voidFn = exports.getTrackBackground = exports.replaceAt = exports.schd = exports.translate = exports.getClosestThumbIndex = exports.translateThumbs = exports.getPaddingAndBorder = exports.getMargin = exports.checkInitialOverlap = exports.checkValuesAgainstBoundaries = exports.checkBoundaries = exports.isVertical = exports.relativeValue = exports.normalizeValue = exports.isStepDivisible = exports.isTouchEvent = exports.getStepDecimals = void 0;\nvar react_1 = require(\"react\");\nvar types_1 = require(\"./types\");\nvar getStepDecimals = function (step) {\n    var decimals = step.toString().split('.')[1];\n    return decimals ? decimals.length : 0;\n};\nexports.getStepDecimals = getStepDecimals;\nfunction isTouchEvent(event) {\n    return ((event.touches && event.touches.length) ||\n        (event.changedTouches && event.changedTouches.length));\n}\nexports.isTouchEvent = isTouchEvent;\nfunction isStepDivisible(min, max, step) {\n    var res = (max - min) / step;\n    var precision = 8;\n    var roundedRes = Number(res.toFixed(precision));\n    return parseInt(roundedRes.toString(), 10) === roundedRes;\n}\nexports.isStepDivisible = isStepDivisible;\nfunction normalizeValue(value, index, min, max, step, allowOverlap, values) {\n    var BIG_NUM = 10e10;\n    value = Math.round(value * BIG_NUM) / BIG_NUM;\n    if (!allowOverlap) {\n        var prev = values[index - 1];\n        var next = values[index + 1];\n        if (prev && prev > value)\n            return prev;\n        if (next && next < value)\n            return next;\n    }\n    if (value > max)\n        return max;\n    if (value < min)\n        return min;\n    // `remainder` is a difference between the given value and a full step value\n    // that is closest lower to the given value and is in the range between the min value\n    // and the given value\n    var remainder = Math.floor(value * BIG_NUM - min * BIG_NUM) %\n        Math.floor(step * BIG_NUM);\n    var closestLowerNum = Math.floor(value * BIG_NUM - Math.abs(remainder));\n    var rounded = remainder === 0 ? value : closestLowerNum / BIG_NUM;\n    // Values with a remainder `< step/2` are rounded to the closest lower value\n    // while values with a remainder `= > step/2` are rounded to the closest bigger value\n    var res = Math.abs(remainder / BIG_NUM) < step / 2\n        ? rounded\n        : rounded + step;\n    var decimalPlaces = (0, exports.getStepDecimals)(step);\n    return parseFloat(res.toFixed(decimalPlaces));\n}\nexports.normalizeValue = normalizeValue;\nfunction relativeValue(value, min, max) {\n    return (value - min) / (max - min);\n}\nexports.relativeValue = relativeValue;\nfunction isVertical(direction) {\n    return direction === types_1.Direction.Up || direction === types_1.Direction.Down;\n}\nexports.isVertical = isVertical;\nfunction checkBoundaries(value, min, max) {\n    if (min >= max) {\n        throw new RangeError(\"min (\".concat(min, \") is equal/bigger than max (\").concat(max, \")\"));\n    }\n    if (value < min) {\n        throw new RangeError(\"value (\".concat(value, \") is smaller than min (\").concat(min, \")\"));\n    }\n    if (value > max) {\n        throw new RangeError(\"value (\".concat(value, \") is bigger than max (\").concat(max, \")\"));\n    }\n}\nexports.checkBoundaries = checkBoundaries;\nfunction checkValuesAgainstBoundaries(value, min, max) {\n    if (value < min) {\n        // set selectedValue to min\n        return min;\n    }\n    if (value > max) {\n        // set selectedValue to max\n        return max;\n    }\n    else {\n        return value;\n    }\n}\nexports.checkValuesAgainstBoundaries = checkValuesAgainstBoundaries;\nfunction checkInitialOverlap(values) {\n    if (values.length < 2)\n        return;\n    if (!values.slice(1).every(function (item, i) { return values[i] <= item; })) {\n        throw new RangeError(\"values={[\".concat(values, \"]} needs to be sorted when allowOverlap={false}\"));\n    }\n}\nexports.checkInitialOverlap = checkInitialOverlap;\nfunction getMargin(element) {\n    var style = window.getComputedStyle(element);\n    return {\n        top: parseInt(style['margin-top'], 10),\n        bottom: parseInt(style['margin-bottom'], 10),\n        left: parseInt(style['margin-left'], 10),\n        right: parseInt(style['margin-right'], 10)\n    };\n}\nexports.getMargin = getMargin;\nfunction getPaddingAndBorder(element) {\n    var style = window.getComputedStyle(element);\n    return {\n        top: parseInt(style['padding-top'], 10) + parseInt(style['border-top-width'], 10),\n        bottom: parseInt(style['padding-bottom'], 10) + parseInt(style['border-bottom-width'], 10),\n        left: parseInt(style['padding-left'], 10) + parseInt(style['border-left-width'], 10),\n        right: parseInt(style['padding-right'], 10) + parseInt(style['border-right-width'], 10),\n    };\n}\nexports.getPaddingAndBorder = getPaddingAndBorder;\nfunction translateThumbs(elements, offsets, rtl) {\n    var inverter = rtl ? -1 : 1;\n    elements.forEach(function (element, index) {\n        return translate(element, inverter * offsets[index].x, offsets[index].y);\n    });\n}\nexports.translateThumbs = translateThumbs;\n/**\n * Util function for calculating the index of the thumb that is closes to a given position\n * @param thumbs - array of Thumb element to calculate the distance from\n * @param clientX - target x position (mouse/touch)\n * @param clientY - target y position (mouse/touch)\n * @param direction - the direction of the track\n */\nfunction getClosestThumbIndex(thumbs, clientX, clientY, direction) {\n    var thumbIndex = 0;\n    var minThumbDistance = getThumbDistance(thumbs[0], clientX, clientY, direction);\n    for (var i = 1; i < thumbs.length; i++) {\n        var thumbDistance = getThumbDistance(thumbs[i], clientX, clientY, direction);\n        if (thumbDistance < minThumbDistance) {\n            minThumbDistance = thumbDistance;\n            thumbIndex = i;\n        }\n    }\n    return thumbIndex;\n}\nexports.getClosestThumbIndex = getClosestThumbIndex;\nfunction translate(element, x, y) {\n    element.style.transform = \"translate(\".concat(x, \"px, \").concat(y, \"px)\");\n}\nexports.translate = translate;\n// adapted from https://github.com/alexreardon/raf-schd\nvar schd = function (fn) {\n    var lastArgs = [];\n    var frameId = null;\n    var wrapperFn = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        lastArgs = args;\n        if (frameId) {\n            return;\n        }\n        frameId = requestAnimationFrame(function () {\n            frameId = null;\n            fn.apply(void 0, lastArgs);\n        });\n    };\n    return wrapperFn;\n};\nexports.schd = schd;\nfunction replaceAt(values, index, value) {\n    var ret = values.slice(0);\n    ret[index] = value;\n    return ret;\n}\nexports.replaceAt = replaceAt;\nfunction getTrackBackground(_a) {\n    var values = _a.values, colors = _a.colors, min = _a.min, max = _a.max, _b = _a.direction, direction = _b === void 0 ? types_1.Direction.Right : _b, _c = _a.rtl, rtl = _c === void 0 ? false : _c;\n    if (rtl && direction === types_1.Direction.Right) {\n        direction = types_1.Direction.Left;\n    }\n    else if (rtl && types_1.Direction.Left) {\n        direction = types_1.Direction.Right;\n    }\n    // sort values ascending\n    var progress = values.slice(0).sort(function (a, b) { return a - b; }).map(function (value) { return ((value - min) / (max - min)) * 100; });\n    var middle = progress.reduce(function (acc, point, index) {\n        return \"\".concat(acc, \", \").concat(colors[index], \" \").concat(point, \"%, \").concat(colors[index + 1], \" \").concat(point, \"%\");\n    }, '');\n    return \"linear-gradient(\".concat(direction, \", \").concat(colors[0], \" 0%\").concat(middle, \", \").concat(colors[colors.length - 1], \" 100%)\");\n}\nexports.getTrackBackground = getTrackBackground;\nfunction voidFn() { }\nexports.voidFn = voidFn;\nfunction assertUnreachable(x) {\n    throw new Error(\"Didn't expect to get here\");\n}\nexports.assertUnreachable = assertUnreachable;\n/**\n * Util function for grabbing the true largest width of a thumb\n * including the label\n * @param thumbEl - Thumb element to grab the largest width from\n * @param value - Thumb value, not label value\n * @param separator - Label separator value\n */\nvar getThumbWidth = function (thumbEl, value, separator, decimalPlaces, valueToLabel) {\n    if (valueToLabel === void 0) { valueToLabel = function (value) { return value; }; }\n    var width = Math.ceil(__spreadArray([thumbEl], Array.from(thumbEl.children), true).reduce(function (width, el) {\n        var elWidth = Math.ceil(el.getBoundingClientRect().width);\n        /**\n         * If a label contains a merged label value, it won't return the true\n         * label width for that Thumb. Clone the label and change the value\n         * to that individual Thumb value in order to grab the true width.\n         */\n        if (el.innerText &&\n            el.innerText.includes(separator) &&\n            el.childElementCount === 0) {\n            var elClone = el.cloneNode(true);\n            elClone.innerHTML = valueToLabel(value.toFixed(decimalPlaces));\n            elClone.style.visibility = 'hidden';\n            document.body.appendChild(elClone);\n            elWidth = Math.ceil(elClone.getBoundingClientRect().width);\n            document.body.removeChild(elClone);\n        }\n        return elWidth > width ? elWidth : width;\n    }, thumbEl.getBoundingClientRect().width));\n    return width;\n};\n/**\n * Bulk of logic for thumb overlaps\n * Consider a scenario with 5 thumbs;\n * Thumb 1 overlaps with thumb 0 and thumb 2\n * Thumb 2 overlaps with thumb 3\n * We need an array that contains [0, 1, 2, 3]\n * The function needs to return the directly overlapping thumbs\n * and all thumbs overlapping linked to those and so on\n * @param index - Thumb index calculating overlaps for\n * @param offsets - Current Array of Thumb offsets for Range\n * @param thumbs - Array of Thumb elements\n * @param values - Array of Thumb values\n * @param separator - String separator for merged label values\n * @returns overlaps - Array of all overlapping thumbs from the index\n */\nvar getOverlaps = function (index, offsets, thumbs, values, separator, decimalPlaces, valueToLabel) {\n    if (valueToLabel === void 0) { valueToLabel = function (value) { return value; }; }\n    var overlaps = [];\n    /**\n     * Recursive function for building the overlaps Array\n     * If an overlap is found, find the overlaps for that overlap\n     * @param thumbIndex current Thumb index to find overlaps from\n     */\n    var buildOverlaps = function (thumbIndex) {\n        var thumbXWidth = getThumbWidth(thumbs[thumbIndex], values[thumbIndex], separator, decimalPlaces, valueToLabel);\n        var thumbX = offsets[thumbIndex].x;\n        /**\n         * Iterate through the Thumb offsets, if there is a match\n         * add the thumbIndex and siblingIndex to the overlaps Array\n         *\n         * Then build overlaps from the overlapping siblingIndex\n         */\n        offsets.forEach(function (_a, siblingIndex) {\n            var siblingX = _a.x;\n            var siblingWidth = getThumbWidth(thumbs[siblingIndex], values[siblingIndex], separator, decimalPlaces, valueToLabel);\n            if (thumbIndex !== siblingIndex &&\n                ((thumbX >= siblingX && thumbX <= siblingX + siblingWidth) ||\n                    (thumbX + thumbXWidth >= siblingX &&\n                        thumbX + thumbXWidth <= siblingX + siblingWidth))) {\n                if (!overlaps.includes(siblingIndex)) {\n                    overlaps.push(thumbIndex);\n                    overlaps.push(siblingIndex);\n                    overlaps = __spreadArray(__spreadArray([], overlaps, true), [thumbIndex, siblingIndex], false);\n                    buildOverlaps(siblingIndex);\n                }\n            }\n        });\n    };\n    buildOverlaps(index);\n    // Sort and remove duplicates from the built overlaps\n    return Array.from(new Set(overlaps.sort()));\n};\n/**\n * A custom React Hook for calculating whether a thumb overlaps\n * another and whether labels could/should merge.\n * @param rangeRef - React ref value of Range component\n * @param values - current Range values Array\n * @param index - thumb index\n * @param step - step value, used to calculate the number of decimal places\n * @param separator - string to separate thumb values\n * @returns label value + styling for thumb label\n */\nvar useThumbOverlap = function (rangeRef, values, index, step, separator, valueToLabel) {\n    if (step === void 0) { step = 0.1; }\n    if (separator === void 0) { separator = ' - '; }\n    if (valueToLabel === void 0) { valueToLabel = function (value) { return value; }; }\n    var decimalPlaces = (0, exports.getStepDecimals)(step);\n    // Create initial label style and value. Label value defaults to thumb value\n    var _a = (0, react_1.useState)({}), labelStyle = _a[0], setLabelStyle = _a[1];\n    var _b = (0, react_1.useState)(valueToLabel(values[index].toFixed(decimalPlaces))), labelValue = _b[0], setLabelValue = _b[1];\n    // When the rangeRef or values change, update the Thumb label values and styling\n    (0, react_1.useEffect)(function () {\n        if (rangeRef) {\n            var thumbs = rangeRef.getThumbs();\n            if (thumbs.length < 1)\n                return;\n            var newStyle = {};\n            var offsets_1 = rangeRef.getOffsets();\n            /**\n             * Get any overlaps for the given Thumb index. This must return all linked\n             * Thumbs. So if there are 4 Thumbs and Thumbs 2, 3 and 4 overlap. If we are\n             * getting the overlaps for Thumb 1 and it overlaps only Thumb 2, we must get\n             * 2, 3 and 4 also.\n             */\n            var overlaps = getOverlaps(index, offsets_1, thumbs, values, separator, decimalPlaces, valueToLabel);\n            // Set a default label value of the Thumb value\n            var labelValue_1 = valueToLabel(values[index].toFixed(decimalPlaces));\n            /**\n             * If there are overlaps for the Thumb, we need to calculate the correct\n             * Label value along with the relevant styling. We only want to show a Label\n             * for the left most Thumb in an overlapping set.\n             * All other Thumbs will be set to display: none.\n             */\n            if (overlaps.length) {\n                /**\n                 * Get an Array of the offsets for the overlapping Thumbs\n                 * This is so we can determine if the Thumb we are looking at\n                 * is the left most thumb in an overlapping set\n                 */\n                var offsetsX = overlaps.reduce(function (a, c, i, s) {\n                    return a.length ? __spreadArray(__spreadArray([], a, true), [offsets_1[s[i]].x], false) : [offsets_1[s[i]].x];\n                }, []);\n                /**\n                 * If our Thumb is the left most Thumb, we can build a Label value\n                 * and set the style for that Label\n                 */\n                if (Math.min.apply(Math, offsetsX) === offsets_1[index].x) {\n                    /**\n                     * First calculate the Label value. To do this,\n                     * grab all the values for the Thumbs in our overlaps.\n                     * Then convert that to a Set and sort it whilst removing duplicates.\n                     */\n                    var labelValues_1 = [];\n                    overlaps.forEach(function (thumb) {\n                        labelValues_1.push(values[thumb].toFixed(decimalPlaces));\n                    });\n                    /**\n                     *  Update the labelValue with the resulting Array\n                     *  joined by our defined separator\n                     */\n                    labelValue_1 = Array.from(new Set(labelValues_1.sort(function (a, b) { return parseFloat(a) - parseFloat(b); })))\n                        .map(valueToLabel)\n                        .join(separator);\n                    /**\n                     * Lastly, build the label styling. The label styling will\n                     * position the label and apply a transform so that it's centered.\n                     * We want the center point between the left edge of the left most Thumb\n                     * and the right edge of the right most Thumb.\n                     */\n                    var first = Math.min.apply(Math, offsetsX);\n                    var last = Math.max.apply(Math, offsetsX);\n                    var lastWidth = thumbs[overlaps[offsetsX.indexOf(last)]].getBoundingClientRect().width;\n                    newStyle.left = \"\".concat(Math.abs(first - (last + lastWidth)) / 2, \"px\");\n                    newStyle.transform = 'translate(-50%, 0)';\n                }\n                else {\n                    // If the Thumb isn't the left most Thumb, hide the Label!\n                    newStyle.visibility = 'hidden';\n                }\n            }\n            // Update the label value and style\n            setLabelValue(labelValue_1);\n            setLabelStyle(newStyle);\n        }\n    }, [rangeRef, values]);\n    return [labelValue, labelStyle];\n};\nexports.useThumbOverlap = useThumbOverlap;\n/**\n * Util function for calculating the distance of the center of a thumb\n * form a given mouse/touch target's position\n * @param thumbEl - Thumb element to calculate the distance from\n * @param clientX - target x position (mouse/touch)\n * @param clientY - target y position (mouse/touch)\n * @param direction - the direction of the track\n */\nfunction getThumbDistance(thumbEl, clientX, clientY, direction) {\n    var _a = thumbEl.getBoundingClientRect(), left = _a.left, top = _a.top, width = _a.width, height = _a.height;\n    return isVertical(direction) ? Math.abs(clientY - (top + height / 2)) : Math.abs(clientX - (left + width / 2));\n}\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = __importStar(require(\"react\"));\nvar utils_1 = require(\"./utils\");\nvar types_1 = require(\"./types\");\nvar INCREASE_KEYS = ['ArrowRight', 'ArrowUp', 'k', 'PageUp'];\nvar DECREASE_KEYS = ['ArrowLeft', 'ArrowDown', 'j', 'PageDown'];\nvar Range = /** @class */ (function (_super) {\n    __extends(Range, _super);\n    function Range(props) {\n        var _this = _super.call(this, props) || this;\n        _this.trackRef = React.createRef();\n        _this.thumbRefs = [];\n        _this.state = {\n            draggedTrackPos: [-1, -1],\n            draggedThumbIndex: -1,\n            thumbZIndexes: new Array(_this.props.values.length).fill(0).map(function (t, i) { return i; }),\n            isChanged: false,\n            markOffsets: []\n        };\n        _this.getOffsets = function () {\n            var _a = _this.props, direction = _a.direction, values = _a.values, min = _a.min, max = _a.max;\n            var trackElement = _this.trackRef.current;\n            var trackRect = trackElement.getBoundingClientRect();\n            var trackPadding = (0, utils_1.getPaddingAndBorder)(trackElement);\n            return _this.getThumbs().map(function (thumb, index) {\n                var thumbOffsets = { x: 0, y: 0 };\n                var thumbRect = thumb.getBoundingClientRect();\n                var thumbMargins = (0, utils_1.getMargin)(thumb);\n                switch (direction) {\n                    case types_1.Direction.Right:\n                        thumbOffsets.x = (thumbMargins.left + trackPadding.left) * -1;\n                        thumbOffsets.y =\n                            ((thumbRect.height - trackRect.height) / 2 + trackPadding.top) * -1;\n                        thumbOffsets.x +=\n                            trackRect.width * (0, utils_1.relativeValue)(values[index], min, max) -\n                                thumbRect.width / 2;\n                        return thumbOffsets;\n                    case types_1.Direction.Left:\n                        thumbOffsets.x = (thumbMargins.right + trackPadding.right) * -1;\n                        thumbOffsets.y =\n                            ((thumbRect.height - trackRect.height) / 2 + trackPadding.top) * -1;\n                        thumbOffsets.x +=\n                            trackRect.width -\n                                trackRect.width * (0, utils_1.relativeValue)(values[index], min, max) -\n                                thumbRect.width / 2;\n                        return thumbOffsets;\n                    case types_1.Direction.Up:\n                        thumbOffsets.x =\n                            ((thumbRect.width - trackRect.width) / 2 +\n                                thumbMargins.left +\n                                trackPadding.left) *\n                                -1;\n                        thumbOffsets.y = -trackPadding.left;\n                        thumbOffsets.y +=\n                            trackRect.height -\n                                trackRect.height * (0, utils_1.relativeValue)(values[index], min, max) -\n                                thumbRect.height / 2;\n                        return thumbOffsets;\n                    case types_1.Direction.Down:\n                        thumbOffsets.x =\n                            ((thumbRect.width - trackRect.width) / 2 +\n                                thumbMargins.left +\n                                trackPadding.left) *\n                                -1;\n                        thumbOffsets.y = -trackPadding.left;\n                        thumbOffsets.y +=\n                            trackRect.height * (0, utils_1.relativeValue)(values[index], min, max) -\n                                thumbRect.height / 2;\n                        return thumbOffsets;\n                    default:\n                        return (0, utils_1.assertUnreachable)(direction);\n                }\n            });\n        };\n        _this.getThumbs = function () {\n            if (_this.trackRef && _this.trackRef.current) {\n                return Array.from(_this.trackRef.current.children).filter(function (el) {\n                    return el.hasAttribute('aria-valuenow');\n                });\n            }\n            console.warn('No thumbs found in the track container. Did you forget to pass & spread the `props` param in renderTrack?');\n            return [];\n        };\n        _this.getTargetIndex = function (e) {\n            return _this.getThumbs().findIndex(function (child) { return child === e.target || child.contains(e.target); });\n        };\n        _this.addTouchEvents = function (e) {\n            document.addEventListener('touchmove', _this.schdOnTouchMove, {\n                passive: false\n            });\n            document.addEventListener('touchend', _this.schdOnEnd, {\n                passive: false\n            });\n            document.addEventListener('touchcancel', _this.schdOnEnd, {\n                passive: false\n            });\n        };\n        _this.addMouseEvents = function (e) {\n            document.addEventListener('mousemove', _this.schdOnMouseMove);\n            document.addEventListener('mouseup', _this.schdOnEnd);\n        };\n        _this.onMouseDownTrack = function (e) {\n            var _a;\n            if (e.button !== 0)\n                return;\n            e.persist();\n            e.preventDefault();\n            _this.addMouseEvents(e.nativeEvent);\n            if (_this.props.values.length > 1 && _this.props.draggableTrack) {\n                if (_this.thumbRefs.some(function (thumbRef) { var _a; return (_a = thumbRef.current) === null || _a === void 0 ? void 0 : _a.contains(e.target); }))\n                    return;\n                // handle dragging the whole track\n                _this.setState({\n                    draggedTrackPos: [e.clientX, e.clientY]\n                }, function () { return _this.onMove(e.clientX, e.clientY); });\n            }\n            else {\n                // get the index of the thumb that is closest to the place where the track is clicked\n                var draggedThumbIndex = (0, utils_1.getClosestThumbIndex)(_this.thumbRefs.map(function (t) { return t.current; }), e.clientX, e.clientY, _this.props.direction);\n                // move the thumb which is closest to the place where the track is clicked\n                (_a = _this.thumbRefs[draggedThumbIndex].current) === null || _a === void 0 ? void 0 : _a.focus();\n                _this.setState({\n                    draggedThumbIndex: draggedThumbIndex\n                }, function () { return _this.onMove(e.clientX, e.clientY); });\n            }\n        };\n        _this.onResize = function () {\n            (0, utils_1.translateThumbs)(_this.getThumbs(), _this.getOffsets(), _this.props.rtl);\n            _this.calculateMarkOffsets();\n        };\n        _this.onTouchStartTrack = function (e) {\n            var _a;\n            e.persist();\n            _this.addTouchEvents(e.nativeEvent);\n            if (_this.props.values.length > 1 && _this.props.draggableTrack) {\n                if (_this.thumbRefs.some(function (thumbRef) { var _a; return (_a = thumbRef.current) === null || _a === void 0 ? void 0 : _a.contains(e.target); }))\n                    return;\n                // handle dragging the whole track\n                _this.setState({\n                    draggedTrackPos: [e.touches[0].clientX, e.touches[0].clientY]\n                }, function () { return _this.onMove(e.touches[0].clientX, e.touches[0].clientY); });\n            }\n            else {\n                // get the index of the thumb that is closest to the place where the track is clicked\n                var draggedThumbIndex = (0, utils_1.getClosestThumbIndex)(_this.thumbRefs.map(function (t) { return t.current; }), e.touches[0].clientX, e.touches[0].clientY, _this.props.direction);\n                // move the thumb which is closest to the place where the track is clicked\n                (_a = _this.thumbRefs[draggedThumbIndex].current) === null || _a === void 0 ? void 0 : _a.focus();\n                _this.setState({\n                    draggedThumbIndex: draggedThumbIndex\n                }, function () { return _this.onMove(e.touches[0].clientX, e.touches[0].clientY); });\n            }\n        };\n        _this.onMouseOrTouchStart = function (e) {\n            if (_this.props.disabled)\n                return;\n            var isTouch = (0, utils_1.isTouchEvent)(e);\n            if (!isTouch && e.button !== 0)\n                return;\n            var index = _this.getTargetIndex(e);\n            if (index === -1)\n                return;\n            if (isTouch) {\n                _this.addTouchEvents(e);\n            }\n            else {\n                _this.addMouseEvents(e);\n            }\n            _this.setState({\n                draggedThumbIndex: index,\n                thumbZIndexes: _this.state.thumbZIndexes.map(function (t, i) {\n                    if (i === index) {\n                        return Math.max.apply(Math, _this.state.thumbZIndexes);\n                    }\n                    return t <= _this.state.thumbZIndexes[index] ? t : t - 1;\n                })\n            });\n        };\n        _this.onMouseMove = function (e) {\n            e.preventDefault();\n            _this.onMove(e.clientX, e.clientY);\n        };\n        _this.onTouchMove = function (e) {\n            e.preventDefault();\n            _this.onMove(e.touches[0].clientX, e.touches[0].clientY);\n        };\n        _this.onKeyDown = function (e) {\n            var _a = _this.props, values = _a.values, onChange = _a.onChange, step = _a.step, rtl = _a.rtl, direction = _a.direction;\n            var isChanged = _this.state.isChanged;\n            var index = _this.getTargetIndex(e.nativeEvent);\n            var inverter = rtl || direction === types_1.Direction.Left || direction === types_1.Direction.Down\n                ? -1\n                : 1;\n            if (index === -1)\n                return;\n            if (INCREASE_KEYS.includes(e.key)) {\n                e.preventDefault();\n                _this.setState({\n                    draggedThumbIndex: index,\n                    isChanged: true\n                });\n                onChange((0, utils_1.replaceAt)(values, index, _this.normalizeValue(values[index] + inverter * (e.key === 'PageUp' ? step * 10 : step), index)));\n            }\n            else if (DECREASE_KEYS.includes(e.key)) {\n                e.preventDefault();\n                _this.setState({\n                    draggedThumbIndex: index,\n                    isChanged: true\n                });\n                onChange((0, utils_1.replaceAt)(values, index, _this.normalizeValue(values[index] -\n                    inverter * (e.key === 'PageDown' ? step * 10 : step), index)));\n            }\n            else if (e.key === 'Tab') {\n                _this.setState({ draggedThumbIndex: -1 }, function () {\n                    // If key pressed when thumb was moving, fire onFinalChange\n                    if (isChanged) {\n                        _this.fireOnFinalChange();\n                    }\n                });\n            }\n            else {\n                if (isChanged) {\n                    _this.fireOnFinalChange();\n                }\n            }\n        };\n        _this.onKeyUp = function (e) {\n            var isChanged = _this.state.isChanged;\n            _this.setState({\n                draggedThumbIndex: -1\n            }, function () {\n                if (isChanged) {\n                    _this.fireOnFinalChange();\n                }\n            });\n        };\n        _this.onMove = function (clientX, clientY) {\n            var _a = _this.state, draggedThumbIndex = _a.draggedThumbIndex, draggedTrackPos = _a.draggedTrackPos;\n            var _b = _this.props, direction = _b.direction, min = _b.min, max = _b.max, onChange = _b.onChange, values = _b.values, step = _b.step, rtl = _b.rtl;\n            if (draggedThumbIndex === -1 &&\n                draggedTrackPos[0] === -1 &&\n                draggedTrackPos[1] === -1)\n                return null;\n            var trackElement = _this.trackRef.current;\n            // If component was closed down prematurely, A last onMove could be triggered based on requestAnimationFrame()\n            if (!trackElement)\n                return null;\n            var trackRect = trackElement.getBoundingClientRect();\n            var trackLength = (0, utils_1.isVertical)(direction)\n                ? trackRect.height\n                : trackRect.width;\n            if (draggedTrackPos[0] !== -1 && draggedTrackPos[1] !== -1) {\n                // calculate how much it moved since the last update\n                var dX = clientX - draggedTrackPos[0];\n                var dY = clientY - draggedTrackPos[1];\n                // calculate the delta of the value\n                var deltaValue = 0;\n                switch (direction) {\n                    case types_1.Direction.Right:\n                    case types_1.Direction.Left:\n                        deltaValue = (dX / trackLength) * (max - min);\n                        break;\n                    case types_1.Direction.Down:\n                    case types_1.Direction.Up:\n                        deltaValue = (dY / trackLength) * (max - min);\n                        break;\n                    default:\n                        (0, utils_1.assertUnreachable)(direction);\n                }\n                // invert for RTL\n                if (rtl) {\n                    deltaValue *= -1;\n                }\n                if (Math.abs(deltaValue) >= step / 2) {\n                    // adjust delta so it fits into the range\n                    for (var i = 0; i < _this.thumbRefs.length; i++) {\n                        if ((values[i] === max && Math.sign(deltaValue) === 1) ||\n                            (values[i] === min && Math.sign(deltaValue) === -1))\n                            return;\n                        var thumbValue = values[i] + deltaValue;\n                        if (thumbValue > max)\n                            deltaValue = max - values[i];\n                        else if (thumbValue < min)\n                            deltaValue = min - values[i];\n                    }\n                    // add the delta to each thumb\n                    var newValues = values.slice(0);\n                    for (var i = 0; i < _this.thumbRefs.length; i++) {\n                        newValues = (0, utils_1.replaceAt)(newValues, i, _this.normalizeValue(values[i] + deltaValue, i));\n                    }\n                    _this.setState({\n                        draggedTrackPos: [clientX, clientY]\n                    });\n                    onChange(newValues);\n                }\n            }\n            else {\n                var newValue = 0;\n                switch (direction) {\n                    case types_1.Direction.Right:\n                        newValue =\n                            ((clientX - trackRect.left) / trackLength) * (max - min) + min;\n                        break;\n                    case types_1.Direction.Left:\n                        newValue =\n                            ((trackLength - (clientX - trackRect.left)) / trackLength) *\n                                (max - min) +\n                                min;\n                        break;\n                    case types_1.Direction.Down:\n                        newValue =\n                            ((clientY - trackRect.top) / trackLength) * (max - min) + min;\n                        break;\n                    case types_1.Direction.Up:\n                        newValue =\n                            ((trackLength - (clientY - trackRect.top)) / trackLength) *\n                                (max - min) +\n                                min;\n                        break;\n                    default:\n                        (0, utils_1.assertUnreachable)(direction);\n                }\n                // invert for RTL\n                if (rtl) {\n                    newValue = max + min - newValue;\n                }\n                if (Math.abs(values[draggedThumbIndex] - newValue) >= step / 2) {\n                    onChange((0, utils_1.replaceAt)(values, draggedThumbIndex, _this.normalizeValue(newValue, draggedThumbIndex)));\n                }\n            }\n        };\n        _this.normalizeValue = function (value, index) {\n            var _a = _this.props, min = _a.min, max = _a.max, step = _a.step, allowOverlap = _a.allowOverlap, values = _a.values;\n            return (0, utils_1.normalizeValue)(value, index, min, max, step, allowOverlap, values);\n        };\n        _this.onEnd = function (e) {\n            e.preventDefault();\n            document.removeEventListener('mousemove', _this.schdOnMouseMove);\n            document.removeEventListener('touchmove', _this.schdOnTouchMove);\n            document.removeEventListener('mouseup', _this.schdOnEnd);\n            document.removeEventListener('touchend', _this.schdOnEnd);\n            document.removeEventListener('touchcancel', _this.schdOnEnd);\n            if (_this.state.draggedThumbIndex === -1 &&\n                _this.state.draggedTrackPos[0] === -1 &&\n                _this.state.draggedTrackPos[1] === -1)\n                return null;\n            _this.setState({ draggedThumbIndex: -1, draggedTrackPos: [-1, -1] }, function () {\n                _this.fireOnFinalChange();\n            });\n        };\n        _this.fireOnFinalChange = function () {\n            _this.setState({ isChanged: false });\n            var _a = _this.props, onFinalChange = _a.onFinalChange, values = _a.values;\n            if (onFinalChange) {\n                onFinalChange(values);\n            }\n        };\n        _this.updateMarkRefs = function (props) {\n            if (!props.renderMark) { // don't create mark refs unless we are rendering marks\n                _this.numOfMarks = undefined;\n                _this.markRefs = undefined;\n                return;\n            }\n            _this.numOfMarks = (props.max - props.min) / _this.props.step;\n            _this.markRefs = [];\n            for (var i = 0; i < _this.numOfMarks + 1; i++) {\n                _this.markRefs[i] = React.createRef();\n            }\n        };\n        _this.calculateMarkOffsets = function () {\n            if (!_this.props.renderMark ||\n                !_this.trackRef ||\n                !_this.numOfMarks ||\n                !_this.markRefs ||\n                _this.trackRef.current === null)\n                return;\n            var elStyles = window.getComputedStyle(_this.trackRef.current);\n            var trackWidth = parseInt(elStyles.width, 10);\n            var trackHeight = parseInt(elStyles.height, 10);\n            var paddingLeft = parseInt(elStyles.paddingLeft, 10);\n            var paddingTop = parseInt(elStyles.paddingTop, 10);\n            var res = [];\n            for (var i = 0; i < _this.numOfMarks + 1; i++) {\n                var markHeight = 9999;\n                var markWidth = 9999;\n                if (_this.markRefs[i].current) {\n                    var markRect = _this.markRefs[i].current.getBoundingClientRect();\n                    markHeight = markRect.height;\n                    markWidth = markRect.width;\n                }\n                if (_this.props.direction === types_1.Direction.Left ||\n                    _this.props.direction === types_1.Direction.Right) {\n                    res.push([\n                        Math.round((trackWidth / _this.numOfMarks) * i + paddingLeft - markWidth / 2),\n                        -Math.round((markHeight - trackHeight) / 2)\n                    ]);\n                }\n                else {\n                    res.push([\n                        Math.round((trackHeight / _this.numOfMarks) * i + paddingTop - markHeight / 2),\n                        -Math.round((markWidth - trackWidth) / 2)\n                    ]);\n                }\n            }\n            _this.setState({ markOffsets: res });\n        };\n        if (props.step === 0) {\n            throw new Error('\"step\" property should be a positive number');\n        }\n        _this.schdOnMouseMove = (0, utils_1.schd)(_this.onMouseMove);\n        _this.schdOnTouchMove = (0, utils_1.schd)(_this.onTouchMove);\n        _this.schdOnEnd = (0, utils_1.schd)(_this.onEnd);\n        _this.thumbRefs = props.values.map(function () { return React.createRef(); });\n        _this.updateMarkRefs(props);\n        return _this;\n    }\n    Range.prototype.componentDidMount = function () {\n        var _this = this;\n        var _a = this.props, values = _a.values, min = _a.min, step = _a.step;\n        this.resizeObserver = window.ResizeObserver\n            ? new window.ResizeObserver(this.onResize)\n            : {\n                observe: function () { return window.addEventListener('resize', _this.onResize); },\n                unobserve: function () { return window.removeEventListener('resize', _this.onResize); }\n            };\n        document.addEventListener('touchstart', this.onMouseOrTouchStart, {\n            passive: false\n        });\n        document.addEventListener('mousedown', this.onMouseOrTouchStart, {\n            passive: false\n        });\n        !this.props.allowOverlap && (0, utils_1.checkInitialOverlap)(this.props.values);\n        this.props.values.forEach(function (value) {\n            return (0, utils_1.checkBoundaries)(value, _this.props.min, _this.props.max);\n        });\n        this.resizeObserver.observe(this.trackRef.current);\n        (0, utils_1.translateThumbs)(this.getThumbs(), this.getOffsets(), this.props.rtl);\n        this.calculateMarkOffsets();\n        values.forEach(function (value) {\n            if (!(0, utils_1.isStepDivisible)(min, value, step)) {\n                console.warn('The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.');\n            }\n        });\n    };\n    Range.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var _a = this.props, max = _a.max, min = _a.min, step = _a.step, values = _a.values, rtl = _a.rtl;\n        if (prevProps.max !== max ||\n            prevProps.min !== min ||\n            prevProps.step !== step) {\n            this.updateMarkRefs(this.props);\n        }\n        (0, utils_1.translateThumbs)(this.getThumbs(), this.getOffsets(), rtl);\n        // ensure offsets are calculated when the refs for the marks have been created\n        // and those refs have been mounted to the dom\n        // on the state update in calculateOffsets with new markOffsets are calculated\n        if (prevProps.max !== max ||\n            prevProps.min !== min ||\n            prevProps.step !== step ||\n            prevState.markOffsets.length !== this.state.markOffsets.length) {\n            this.calculateMarkOffsets();\n            values.forEach(function (value) {\n                if (!(0, utils_1.isStepDivisible)(min, value, step)) {\n                    console.warn('The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.');\n                }\n            });\n        }\n    };\n    Range.prototype.componentWillUnmount = function () {\n        var options = {\n            passive: false\n        };\n        document.removeEventListener('mousedown', this.onMouseOrTouchStart, options);\n        // These need to be removed!!\n        document.removeEventListener('mousemove', this.schdOnMouseMove);\n        document.removeEventListener('touchmove', this.schdOnTouchMove);\n        document.removeEventListener('touchstart', this.onMouseOrTouchStart);\n        document.removeEventListener('mouseup', this.schdOnEnd);\n        document.removeEventListener('touchend', this.schdOnEnd);\n        this.resizeObserver.unobserve(this.trackRef.current);\n    };\n    Range.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, renderTrack = _a.renderTrack, renderThumb = _a.renderThumb, _b = _a.renderMark, renderMark = _b === void 0 ? function () { return null; } : _b, values = _a.values, min = _a.min, max = _a.max, allowOverlap = _a.allowOverlap, disabled = _a.disabled;\n        var _c = this.state, draggedThumbIndex = _c.draggedThumbIndex, thumbZIndexes = _c.thumbZIndexes, markOffsets = _c.markOffsets;\n        return renderTrack({\n            props: {\n                style: {\n                    // creates stacking context that prevents z-index applied to thumbs\n                    // interfere with other elements\n                    transform: 'scale(1)',\n                    cursor: draggedThumbIndex > -1\n                        ? 'grabbing'\n                        : this.props.draggableTrack\n                            ? (0, utils_1.isVertical)(this.props.direction)\n                                ? 'ns-resize'\n                                : 'ew-resize'\n                            : values.length === 1 && !disabled\n                                ? 'pointer'\n                                : 'inherit'\n                },\n                onMouseDown: disabled ? utils_1.voidFn : this.onMouseDownTrack,\n                onTouchStart: disabled ? utils_1.voidFn : this.onTouchStartTrack,\n                ref: this.trackRef\n            },\n            isDragged: this.state.draggedThumbIndex > -1,\n            disabled: disabled,\n            children: __spreadArray(__spreadArray([], markOffsets.map(function (offset, index, arr) {\n                return renderMark({\n                    props: {\n                        style: _this.props.direction === types_1.Direction.Left ||\n                            _this.props.direction === types_1.Direction.Right\n                            ? {\n                                position: 'absolute',\n                                left: \"\".concat(offset[0], \"px\"),\n                                marginTop: \"\".concat(offset[1], \"px\")\n                            }\n                            : {\n                                position: 'absolute',\n                                top: \"\".concat(offset[0], \"px\"),\n                                marginLeft: \"\".concat(offset[1], \"px\")\n                            },\n                        key: \"mark\".concat(index),\n                        ref: _this.markRefs[index]\n                    },\n                    index: index\n                });\n            }), true), values.map(function (value, index) {\n                var isDragged = _this.state.draggedThumbIndex === index;\n                return renderThumb({\n                    index: index,\n                    value: value,\n                    isDragged: isDragged,\n                    props: {\n                        style: {\n                            position: 'absolute',\n                            zIndex: thumbZIndexes[index],\n                            cursor: disabled ? 'inherit' : isDragged ? 'grabbing' : 'grab',\n                            userSelect: 'none',\n                            touchAction: 'none',\n                            WebkitUserSelect: 'none',\n                            MozUserSelect: 'none',\n                            msUserSelect: 'none'\n                        },\n                        key: index,\n                        tabIndex: disabled ? undefined : 0,\n                        'aria-valuemax': allowOverlap ? max : values[index + 1] || max,\n                        'aria-valuemin': allowOverlap ? min : values[index - 1] || min,\n                        'aria-valuenow': value,\n                        draggable: false,\n                        ref: _this.thumbRefs[index],\n                        role: 'slider',\n                        onKeyDown: disabled ? utils_1.voidFn : _this.onKeyDown,\n                        onKeyUp: disabled ? utils_1.voidFn : _this.onKeyUp\n                    }\n                });\n            }), true)\n        });\n    };\n    Range.defaultProps = {\n        step: 1,\n        direction: types_1.Direction.Right,\n        rtl: false,\n        disabled: false,\n        allowOverlap: false,\n        draggableTrack: false,\n        min: 0,\n        max: 100\n    };\n    return Range;\n}(React.Component));\nexports.default = Range;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.checkValuesAgainstBoundaries = exports.relativeValue = exports.useThumbOverlap = exports.Direction = exports.getTrackBackground = exports.Range = void 0;\nvar Range_1 = __importDefault(require(\"./Range\"));\nexports.Range = Range_1.default;\nvar utils_1 = require(\"./utils\");\nObject.defineProperty(exports, \"getTrackBackground\", { enumerable: true, get: function () { return utils_1.getTrackBackground; } });\nObject.defineProperty(exports, \"useThumbOverlap\", { enumerable: true, get: function () { return utils_1.useThumbOverlap; } });\nObject.defineProperty(exports, \"relativeValue\", { enumerable: true, get: function () { return utils_1.relativeValue; } });\nObject.defineProperty(exports, \"checkValuesAgainstBoundaries\", { enumerable: true, get: function () { return utils_1.checkValuesAgainstBoundaries; } });\nvar types_1 = require(\"./types\");\nObject.defineProperty(exports, \"Direction\", { enumerable: true, get: function () { return types_1.Direction; } });\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\nCopyright (c) Uber Technologies, Inc.\n\nThis source code is licensed under the MIT license found in the\nLICENSE file in the root directory of this source tree.\n*/\nimport { getTrackBackground } from 'react-range';\nimport { styled } from '../styles';\nexport var Root = styled('div', {\n  position: 'relative',\n  width: '100%'\n});\nRoot.displayName = \"Root\";\nRoot.displayName = 'Root';\nRoot.displayName = 'StyledRoot';\nexport var Track = styled('div', function (props) {\n  var $theme = props.$theme,\n      _props$$value = props.$value,\n      $value = _props$$value === void 0 ? [] : _props$$value,\n      $disabled = props.$disabled,\n      $isDragged = props.$isDragged;\n  var sizing = $theme.sizing;\n  var cursor = 'inherit';\n\n  if ($disabled) {\n    cursor = 'not-allowed';\n  } else if ($isDragged) {\n    cursor = 'grabbing';\n  } else if ($value.length === 1) {\n    cursor = 'pointer';\n  }\n\n  return {\n    paddingTop: sizing.scale600,\n    paddingBottom: sizing.scale600,\n    paddingRight: sizing.scale600,\n    paddingLeft: sizing.scale600,\n    display: 'flex',\n    cursor: cursor,\n    backgroundColor: $theme.colors.sliderTrackFill\n  };\n});\nTrack.displayName = \"Track\";\nTrack.displayName = 'Track';\nTrack.displayName = 'StyledTrack';\nexport var InnerTrack = styled('div', function (props) {\n  var $theme = props.$theme,\n      _props$$value2 = props.$value,\n      $value = _props$$value2 === void 0 ? [] : _props$$value2,\n      $min = props.$min,\n      $max = props.$max,\n      $disabled = props.$disabled;\n  var colors = $theme.colors,\n      borders = $theme.borders,\n      direction = $theme.direction;\n  var borderRadius = $theme.borders.useRoundedCorners ? borders.radius100 : 0;\n  return {\n    borderTopLeftRadius: borderRadius,\n    borderTopRightRadius: borderRadius,\n    borderBottomRightRadius: borderRadius,\n    borderBottomLeftRadius: borderRadius,\n    background: getTrackBackground({\n      values: $value,\n      colors: $value.length === 1 ? [$disabled ? colors.borderOpaque : colors.primary, $disabled ? colors.backgroundSecondary : colors.borderOpaque] : [$disabled ? colors.backgroundSecondary : colors.borderOpaque, $disabled ? colors.borderOpaque : colors.primary, $disabled ? colors.backgroundSecondary : colors.borderOpaque],\n      min: $min || 0,\n      max: $max || 0,\n      rtl: direction === 'rtl'\n    }),\n    height: '2px',\n    width: '100%',\n    alignSelf: 'center',\n    cursor: $disabled ? 'not-allowed' : 'inherit'\n  };\n});\nInnerTrack.displayName = \"InnerTrack\";\nInnerTrack.displayName = 'InnerTrack';\nInnerTrack.displayName = 'StyledInnerTrack';\nexport var Mark = styled('div', function (props) {\n  return {\n    width: '4px',\n    height: '2px',\n    backgroundColor: props.$theme.colors.backgroundPrimary,\n    marginLeft: '16px'\n  };\n});\nMark.displayName = \"Mark\";\nMark.displayName = 'Mark';\nMark.displayName = 'StyledMark';\nexport var Tick = styled('div', function (props) {\n  return _objectSpread(_objectSpread({}, props.$theme.typography.font200), {}, {\n    color: props.$theme.colors.contentPrimary\n  });\n});\nTick.displayName = \"Tick\";\nTick.displayName = 'Tick';\nTick.displayName = 'StyledTick';\nexport var TickBar = styled('div', function (props) {\n  var $theme = props.$theme;\n  var sizing = $theme.sizing;\n  return {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingRight: sizing.scale600,\n    paddingLeft: sizing.scale600,\n    paddingBottom: sizing.scale400\n  };\n});\nTickBar.displayName = \"TickBar\";\nTickBar.displayName = 'TickBar';\nTickBar.displayName = 'StyledTickBar';\nexport var Thumb = styled('div', function (props) {\n  var $theme = props.$theme,\n      _props$$value3 = props.$value,\n      $value = _props$$value3 === void 0 ? [] : _props$$value3,\n      $thumbIndex = props.$thumbIndex,\n      $disabled = props.$disabled;\n  var isLeft = $value.length === 2 && $thumbIndex === 0;\n  var isRight = $value.length === 2 && $thumbIndex === 1;\n\n  if ($theme.direction === 'rtl' && (isRight || isLeft)) {\n    isLeft = !isLeft;\n    isRight = !isRight;\n  }\n\n  return {\n    height: '24px',\n    width: '24px',\n    borderTopLeftRadius: '24px',\n    borderTopRightRadius: '24px',\n    borderBottomLeftRadius: '24px',\n    borderBottomRightRadius: '24px',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: $disabled ? $theme.colors.sliderHandleFillDisabled : $theme.colors.sliderHandleFill,\n    outline: 'none',\n    boxShadow: props.$isFocusVisible ? \"0 0 0 3px \".concat($theme.colors.accent) : '0 1px 4px rgba(0, 0, 0, 0.12)',\n    cursor: $disabled ? 'not-allowed' : 'inherit'\n  };\n});\nThumb.displayName = \"Thumb\";\nThumb.displayName = 'Thumb';\nThumb.displayName = 'StyledThumb';\nexport var InnerThumb = styled('div', function (props) {\n  var $disabled = props.$disabled,\n      $theme = props.$theme;\n  return {\n    position: 'absolute',\n    top: '-16px',\n    width: '4px',\n    height: '20px',\n    backgroundColor: $disabled ? $theme.colors.sliderHandleFillDisabled : $theme.colors.sliderHandleInnerFill\n  };\n});\nInnerThumb.displayName = \"InnerThumb\";\nInnerThumb.displayName = 'InnerThumb';\nInnerThumb.displayName = 'StyledInnerThumb';\nexport var ThumbValue = styled('div', function (props) {\n  var $disabled = props.$disabled,\n      $theme = props.$theme;\n  return _objectSpread(_objectSpread({\n    position: 'absolute',\n    top: \"-\".concat($theme.sizing.scale1400)\n  }, $theme.typography.font200), {}, {\n    backgroundColor: $disabled ? $theme.colors.sliderHandleFillDisabled : $theme.colors.sliderHandleInnerFill,\n    color: $theme.colors.contentInversePrimary,\n    paddingLeft: $theme.sizing.scale600,\n    paddingRight: $theme.sizing.scale600,\n    paddingTop: $theme.sizing.scale500,\n    paddingBottom: $theme.sizing.scale500,\n    borderBottomLeftRadius: '48px',\n    borderBottomRightRadius: '48px',\n    borderTopLeftRadius: '48px',\n    borderTopRightRadius: '48px',\n    whiteSpace: 'nowrap'\n  });\n});\nThumbValue.displayName = \"ThumbValue\";\nThumbValue.displayName = 'ThumbValue';\nThumbValue.displayName = 'StyledThumbValue';","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n/*\nCopyright (c) Uber Technologies, Inc.\n\nThis source code is licensed under the MIT license found in the\nLICENSE file in the root directory of this source tree.\n*/\nimport * as React from 'react';\nimport { Range } from 'react-range';\nimport { isFocusVisible as focusVisible, forkFocus, forkBlur } from '../utils/focusVisible';\nimport { Root as StyledRoot, Track as StyledTrack, InnerTrack as StyledInnerTrack, Tick as StyledTick, TickBar as StyledTickBar, Thumb as StyledThumb, InnerThumb as StyledInnerThumb, ThumbValue as StyledThumbValue, Mark as StyledMark } from './styled-components';\nimport { getOverrides } from '../helpers/overrides';\nimport { ThemeContext } from '../styles/theme-provider';\n\n// value.length should not be bigger than two\n// because our design doesn't support more than\n// two thumbs\nvar limitValue = function limitValue(value) {\n  if (value.length > 2 || value.length === 0) {\n    throw new Error('the value prop represents positions of thumbs, so its length can be only one or two');\n  }\n\n  return value;\n};\n\nfunction Slider(_ref) {\n  var _ref$overrides = _ref.overrides,\n      overrides = _ref$overrides === void 0 ? {} : _ref$overrides,\n      _ref$disabled = _ref.disabled,\n      disabled = _ref$disabled === void 0 ? false : _ref$disabled,\n      _ref$marks = _ref.marks,\n      marks = _ref$marks === void 0 ? false : _ref$marks,\n      _ref$onChange = _ref.onChange,\n      _onChange = _ref$onChange === void 0 ? function () {} : _ref$onChange,\n      _ref$onFinalChange = _ref.onFinalChange,\n      _onFinalChange = _ref$onFinalChange === void 0 ? function () {} : _ref$onFinalChange,\n      _ref$min = _ref.min,\n      min = _ref$min === void 0 ? 0 : _ref$min,\n      _ref$max = _ref.max,\n      max = _ref$max === void 0 ? 100 : _ref$max,\n      _ref$step = _ref.step,\n      step = _ref$step === void 0 ? 1 : _ref$step,\n      _ref$persistentThumb = _ref.persistentThumb,\n      persistentThumb = _ref$persistentThumb === void 0 ? false : _ref$persistentThumb,\n      _ref$valueToLabel = _ref.valueToLabel,\n      valueToLabel = _ref$valueToLabel === void 0 ? function (label) {\n    return label;\n  } : _ref$valueToLabel,\n      providedValue = _ref.value;\n\n  var theme = React.useContext(ThemeContext);\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      isHovered0 = _React$useState2[0],\n      setIsHovered0 = _React$useState2[1];\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      isHovered1 = _React$useState4[0],\n      setIsHovered1 = _React$useState4[1];\n\n  var _React$useState5 = React.useState(false),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      isFocusVisible = _React$useState6[0],\n      setIsFocusVisible = _React$useState6[1];\n\n  var _React$useState7 = React.useState(-1),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      focusedThumbIndex = _React$useState8[0],\n      setFocusedThumbIndex = _React$useState8[1];\n\n  var handleFocus = React.useCallback(function (event) {\n    if (focusVisible(event)) {\n      setIsFocusVisible(true);\n    } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n    var index = event.target.parentNode.firstChild === event.target ? 0 : 1;\n    setFocusedThumbIndex(index);\n  }, []); // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n  var handleBlur = React.useCallback(function (event) {\n    if (isFocusVisible !== false) {\n      setIsFocusVisible(false);\n    }\n\n    setFocusedThumbIndex(-1);\n  }, []);\n  var value = limitValue(providedValue);\n  var sharedProps = {\n    $disabled: disabled,\n    $step: step,\n    $min: min,\n    $max: max,\n    $marks: marks,\n    $value: value,\n    $isFocusVisible: isFocusVisible\n  };\n\n  var _getOverrides = getOverrides(overrides.Root, StyledRoot),\n      _getOverrides2 = _slicedToArray(_getOverrides, 2),\n      Root = _getOverrides2[0],\n      rootProps = _getOverrides2[1];\n\n  var _getOverrides3 = getOverrides(overrides.Track, StyledTrack),\n      _getOverrides4 = _slicedToArray(_getOverrides3, 2),\n      Track = _getOverrides4[0],\n      trackProps = _getOverrides4[1];\n\n  var _getOverrides5 = getOverrides(overrides.InnerTrack, StyledInnerTrack),\n      _getOverrides6 = _slicedToArray(_getOverrides5, 2),\n      InnerTrack = _getOverrides6[0],\n      innerTrackProps = _getOverrides6[1];\n\n  var _getOverrides7 = getOverrides(overrides.Thumb, StyledThumb),\n      _getOverrides8 = _slicedToArray(_getOverrides7, 2),\n      Thumb = _getOverrides8[0],\n      thumbProps = _getOverrides8[1];\n\n  var _getOverrides9 = getOverrides(overrides.InnerThumb, StyledInnerThumb),\n      _getOverrides10 = _slicedToArray(_getOverrides9, 2),\n      InnerThumb = _getOverrides10[0],\n      innerThumbProps = _getOverrides10[1];\n\n  var _getOverrides11 = getOverrides(overrides.ThumbValue, StyledThumbValue),\n      _getOverrides12 = _slicedToArray(_getOverrides11, 2),\n      ThumbValue = _getOverrides12[0],\n      thumbValueProps = _getOverrides12[1];\n\n  var _getOverrides13 = getOverrides(overrides.Tick, StyledTick),\n      _getOverrides14 = _slicedToArray(_getOverrides13, 2),\n      Tick = _getOverrides14[0],\n      tickProps = _getOverrides14[1];\n\n  var _getOverrides15 = getOverrides(overrides.TickBar, StyledTickBar),\n      _getOverrides16 = _slicedToArray(_getOverrides15, 2),\n      TickBar = _getOverrides16[0],\n      tickBarProps = _getOverrides16[1];\n\n  var _getOverrides17 = getOverrides(overrides.Mark, StyledMark),\n      _getOverrides18 = _slicedToArray(_getOverrides17, 2),\n      Mark = _getOverrides18[0],\n      markProps = _getOverrides18[1];\n\n  return /*#__PURE__*/React.createElement(Root, _extends({\n    \"data-baseweb\": \"slider\"\n  }, sharedProps, rootProps, {\n    onFocus: forkFocus(rootProps, handleFocus),\n    onBlur: forkBlur(rootProps, handleBlur)\n  }), /*#__PURE__*/React.createElement(Range, _extends({\n    step: step,\n    min: min,\n    max: max,\n    values: value,\n    disabled: disabled,\n    onChange: function onChange(value) {\n      return _onChange({\n        value: value\n      });\n    },\n    onFinalChange: function onFinalChange(value) {\n      return _onFinalChange({\n        value: value\n      });\n    },\n    rtl: theme.direction === 'rtl',\n    renderTrack: function renderTrack(_ref2) {\n      var props = _ref2.props,\n          children = _ref2.children,\n          isDragged = _ref2.isDragged;\n      return /*#__PURE__*/React.createElement(Track, _extends({\n        onMouseDown: props.onMouseDown,\n        onTouchStart: props.onTouchStart,\n        $isDragged: isDragged\n      }, sharedProps, trackProps), /*#__PURE__*/React.createElement(InnerTrack, _extends({\n        $isDragged: isDragged,\n        ref: props.ref\n      }, sharedProps, innerTrackProps), children));\n    },\n    renderThumb: function renderThumb(_ref3) {\n      var props = _ref3.props,\n          index = _ref3.index,\n          isDragged = _ref3.isDragged;\n      var displayLabel = persistentThumb ? persistentThumb : (!!index && isHovered1 || !index && isHovered0 || isDragged) && !disabled;\n      return /*#__PURE__*/React.createElement(Thumb, _extends({}, props, {\n        onMouseEnter: function onMouseEnter() {\n          if (index === 0) {\n            setIsHovered0(true);\n          } else {\n            setIsHovered1(true);\n          }\n        },\n        onMouseLeave: function onMouseLeave() {\n          if (index === 0) {\n            setIsHovered0(false);\n          } else {\n            setIsHovered1(false);\n          }\n        },\n        $thumbIndex: index,\n        $isDragged: isDragged,\n        style: _objectSpread({}, props.style)\n      }, sharedProps, thumbProps, {\n        $isFocusVisible: isFocusVisible && focusedThumbIndex === index\n      }), displayLabel && /*#__PURE__*/React.createElement(ThumbValue, _extends({\n        $thumbIndex: index,\n        $isDragged: isDragged\n      }, sharedProps, thumbValueProps), valueToLabel(value[index])), displayLabel && /*#__PURE__*/React.createElement(InnerThumb, _extends({\n        $thumbIndex: index,\n        $isDragged: isDragged\n      }, sharedProps, innerThumbProps)));\n    }\n  }, marks ? {\n    // eslint-disable-next-line react/display-name\n    renderMark: function renderMark(_ref4) {\n      var props = _ref4.props,\n          index = _ref4.index;\n      return /*#__PURE__*/React.createElement(Mark, _extends({\n        $markIndex: index\n      }, props, sharedProps, markProps));\n    }\n  } : {})), /*#__PURE__*/React.createElement(TickBar, _extends({}, sharedProps, tickBarProps), /*#__PURE__*/React.createElement(Tick, _extends({}, sharedProps, tickProps), valueToLabel(min)), /*#__PURE__*/React.createElement(Tick, _extends({}, sharedProps, tickProps), valueToLabel(max))));\n}\n\nexport default Slider;","/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2025)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport styled from \"@emotion/styled\"\nimport { transparentize } from \"color2k\"\n\nexport interface StyledSliderProps {\n  disabled: boolean\n}\n\nexport const StyledThumb = styled.div<StyledSliderProps>(\n  ({ disabled, theme }) => ({\n    alignItems: \"center\",\n    backgroundColor: disabled ? theme.colors.gray : theme.colors.primary,\n    borderTopLeftRadius: \"100%\",\n    borderTopRightRadius: \"100%\",\n    borderBottomLeftRadius: \"100%\",\n    borderBottomRightRadius: \"100%\",\n    borderTopStyle: \"none\",\n    borderBottomStyle: \"none\",\n    borderRightStyle: \"none\",\n    borderLeftStyle: \"none\",\n    boxShadow: \"none\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    height: theme.sizes.sliderThumb,\n    width: theme.sizes.sliderThumb,\n    \":focus\": {\n      outline: \"none\",\n    },\n    \":focus-visible\": {\n      boxShadow: `0 0 0 0.2rem ${transparentize(theme.colors.primary, 0.5)}`,\n    },\n  })\n)\n\nexport const StyledThumbValue = styled.div<StyledSliderProps>(\n  ({ disabled, theme }) => ({\n    fontFamily: theme.genericFonts.bodyFont,\n    fontSize: theme.fontSizes.sm,\n    color: disabled ? theme.colors.gray : theme.colors.primary,\n    top: \"-1.6em\",\n    position: \"absolute\",\n    whiteSpace: \"nowrap\",\n    backgroundColor: theme.colors.transparent,\n    lineHeight: theme.lineHeights.base,\n    fontWeight: theme.fontWeights.normal,\n    // If values are clickable, it's hard to move the right thumb when they're\n    // very close. So make them unclickable:\n    pointerEvents: \"none\",\n  })\n)\n","/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2025)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, {\n  createRef,\n  forwardRef,\n  memo,\n  ReactElement,\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n} from \"react\"\n\nimport { type StyleProps, Slider as UISlider } from \"baseui/slider\"\nimport pick from \"lodash/pick\"\nimport moment from \"moment\"\nimport { sprintf } from \"sprintf-js\"\n\nimport { Slider as SliderProto } from \"@streamlit/protobuf\"\n\nimport { withCalculatedWidth } from \"~lib/components/core/Layout/withCalculatedWidth\"\nimport { Placement } from \"~lib/components/shared/Tooltip\"\nimport TooltipIcon from \"~lib/components/shared/TooltipIcon\"\nimport {\n  StyledWidgetLabelHelp,\n  WidgetLabel,\n} from \"~lib/components/widgets/BaseWidget\"\nimport {\n  useBasicWidgetState,\n  ValueWithSource,\n} from \"~lib/hooks/useBasicWidgetState\"\nimport { useEmotionTheme } from \"~lib/hooks/useEmotionTheme\"\nimport { debounce, labelVisibilityProtoValueToEnum } from \"~lib/util/utils\"\nimport { WidgetStateManager } from \"~lib/WidgetStateManager\"\n\nimport { StyledThumb, StyledThumbValue } from \"./styled-components\"\n\nconst DEBOUNCE_TIME_MS = 200\n\nexport interface Props {\n  disabled: boolean\n  element: SliderProto\n  widgetMgr: WidgetStateManager\n  width: number\n  fragmentId?: string\n}\n\nfunction Slider({\n  disabled,\n  element,\n  widgetMgr,\n  fragmentId,\n}: Props): ReactElement {\n  const [value, setValueWithSource] = useBasicWidgetState<\n    number[],\n    SliderProto\n  >({\n    getStateFromWidgetMgr,\n    getDefaultStateFromProto,\n    getCurrStateFromProto,\n    updateWidgetMgrState,\n    element,\n    widgetMgr,\n    fragmentId,\n  })\n\n  // We tie the UI to `uiValue` rather than `value` because `value` only updates\n  // every DEBOUNCE_TIME_MS. If we tied the UI to `value` then the UI would only\n  // update every DEBOUNCE_TIME_MS as well. So this keeps the UI smooth.\n  const [uiValue, setUiValue] = useState(value)\n\n  const sliderRef = useRef<HTMLDivElement | null>(null)\n  const [thumbRefs] = useState<\n    React.MutableRefObject<HTMLDivElement | null>[]\n  >([])\n  const [thumbValueRefs] = useState<\n    React.MutableRefObject<HTMLDivElement | null>[]\n  >([])\n\n  const theme = useEmotionTheme()\n\n  const formattedValueArr = uiValue.map(v => formatValue(v, element))\n  const thumbAriaLabel = element.label\n\n  // When resetting a form, `value` will change so we need to change `uiValue`\n  // to match.\n  useEffect(() => {\n    setUiValue(value)\n  }, [value])\n\n  // TODO: Update to match React best practices\n  // eslint-disable-next-line react-hooks/react-compiler\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const debouncedSetValueWithSource = useCallback(\n    debounce(DEBOUNCE_TIME_MS, (valueArg: number[]): void => {\n      setValueWithSource({ value: valueArg, fromUi: true })\n    }) as (value: number[]) => void,\n    []\n  )\n\n  const handleChange = useCallback(\n    ({ value: valueArg }: { value: number[] }): void => {\n      setUiValue(valueArg)\n      debouncedSetValueWithSource(valueArg)\n    },\n    [debouncedSetValueWithSource]\n  )\n\n  // TODO: Update to match React best practices\n  // eslint-disable-next-line react-hooks/react-compiler\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const renderThumb = useCallback(\n    forwardRef<HTMLDivElement, StyleProps>(function renderThumb(\n      props: StyleProps,\n      ref\n    ): ReactElement {\n      const { $thumbIndex } = props\n      const thumbIndex = $thumbIndex || 0\n      thumbRefs[thumbIndex] = ref as React.MutableRefObject<HTMLDivElement>\n      // eslint-disable-next-line @eslint-react/no-create-ref\n      thumbValueRefs[thumbIndex] ||= createRef<HTMLDivElement>()\n\n      const passThrough = pick(props, [\n        \"role\",\n        \"style\",\n        \"aria-valuemax\",\n        \"aria-valuemin\",\n        \"aria-valuenow\",\n        \"tabIndex\",\n        \"onKeyUp\",\n        \"onKeyDown\",\n        \"onMouseEnter\",\n        \"onMouseLeave\",\n        \"draggable\",\n      ])\n\n      const formattedValue = formattedValueArr[thumbIndex]\n\n      return (\n        <StyledThumb\n          {...passThrough}\n          disabled={props.$disabled === true}\n          ref={thumbRefs[thumbIndex]}\n          aria-valuetext={formattedValue}\n          aria-label={thumbAriaLabel}\n        >\n          <StyledThumbValue\n            data-testid=\"stSliderThumbValue\"\n            disabled={props.$disabled === true}\n            ref={thumbValueRefs[thumbIndex]}\n          >\n            {formattedValue}\n          </StyledThumbValue>\n        </StyledThumb>\n      )\n    }),\n    // Only run this on first render, to avoid losing the focus state.\n    // Then, when the value written about the thumb needs to change, that\n    // happens with the function below instead.\n    []\n  )\n\n  useEffect(() => {\n    // Update the numbers on the thumb via DOM manipulation to avoid a redraw,\n    // which drops the widget's focus state.\n    thumbValueRefs.map((ref, i) => {\n      if (ref.current) {\n        ref.current.innerText = formattedValueArr[i]\n      }\n    })\n\n    thumbRefs.map((ref, i) => {\n      if (ref.current) {\n        ref.current.setAttribute(\"aria-valuetext\", formattedValueArr[i])\n      }\n    })\n\n    // If, after rendering, the thumb value's is outside the container (too\n    // far left or too far right), bring it inside. Or if there are two\n    // thumbs and their values overlap, fix that.\n    const sliderDiv = sliderRef.current ?? null\n    const thumb1Div = thumbRefs[0].current\n    const thumb2Div = thumbRefs[1]?.current\n    const thumb1ValueDiv = thumbValueRefs[0].current\n    const thumb2ValueDiv = thumbValueRefs[1]?.current\n\n    fixLabelPositions(\n      sliderDiv,\n      thumb1Div,\n      thumb2Div,\n      thumb1ValueDiv,\n      thumb2ValueDiv\n    )\n  })\n\n  const innerTrackStyle = useCallback(\n    ({ $disabled }: StyleProps) => ({\n      height: theme.spacing.twoXS,\n      ...($disabled ? { background: theme.colors.darkenedBgMix25 } : {}),\n    }),\n    [theme.colors.darkenedBgMix25, theme.spacing.twoXS]\n  )\n\n  return (\n    <div ref={sliderRef} className=\"stSlider\" data-testid=\"stSlider\">\n      <WidgetLabel\n        label={element.label}\n        disabled={disabled}\n        labelVisibility={labelVisibilityProtoValueToEnum(\n          element.labelVisibility?.value\n        )}\n      >\n        {element.help && (\n          <StyledWidgetLabelHelp>\n            <TooltipIcon\n              content={element.help}\n              placement={Placement.TOP_RIGHT}\n            />\n          </StyledWidgetLabelHelp>\n        )}\n      </WidgetLabel>\n      <UISlider\n        min={element.min}\n        max={element.max}\n        step={element.step}\n        value={getValueAsArray(uiValue, element)}\n        onChange={handleChange}\n        disabled={disabled}\n        overrides={{\n          Thumb: renderThumb,\n          Track: {\n            style: {\n              backgroundColor: \"none !important\",\n              paddingLeft: theme.spacing.none,\n              paddingRight: theme.spacing.none,\n              // Set padding so total height equals minElementHeight (40px)\n              // Total height = paddingTop + innerTrack height + paddingBottom\n              paddingTop: `calc((${theme.sizes.minElementHeight} - ${theme.spacing.twoXS}) / 2)`,\n              paddingBottom: `calc((${theme.sizes.minElementHeight} - ${theme.spacing.twoXS}) / 2)`,\n            },\n          },\n          InnerTrack: {\n            style: innerTrackStyle,\n          },\n          // Hide min and max tick values\n          TickBar: () => null,\n        }}\n      />\n    </div>\n  )\n}\n\nfunction getStateFromWidgetMgr(\n  widgetMgr: WidgetStateManager,\n  element: SliderProto\n): number[] | undefined {\n  return widgetMgr.getDoubleArrayValue(element)\n}\n\nfunction getDefaultStateFromProto(element: SliderProto): number[] {\n  return element.default\n}\n\nfunction getCurrStateFromProto(element: SliderProto): number[] {\n  return element.value\n}\n\nfunction updateWidgetMgrState(\n  element: SliderProto,\n  widgetMgr: WidgetStateManager,\n  vws: ValueWithSource<number[]>,\n  fragmentId?: string\n): void {\n  widgetMgr.setDoubleArrayValue(\n    element,\n    vws.value,\n    { fromUi: vws.fromUi },\n    fragmentId\n  )\n}\n\nfunction isDateTimeType(element: SliderProto): boolean {\n  const { dataType } = element\n  return (\n    dataType === SliderProto.DataType.DATETIME ||\n    dataType === SliderProto.DataType.DATE ||\n    dataType === SliderProto.DataType.TIME\n  )\n}\n\nfunction formatValue(value: number, element: SliderProto): string {\n  const { format, options } = element\n  if (isDateTimeType(element)) {\n    // Python datetime uses microseconds, but JS & Moment uses milliseconds\n    // The timestamp is always set to the UTC timezone, even so, the actual timezone\n    // for this timestamp in the backend could be different.\n    // However, the frontend component does not need to know about the actual timezone.\n\n    return moment.utc(value / 1000).format(format)\n  }\n\n  if (options.length > 0) {\n    return sprintf(format, options[value])\n  }\n\n  return sprintf(format, value)\n}\n\n/**\n * Return the value of the slider. This will either be an array with\n * one value (for a single value slider), or an array with two\n * values (for a range slider).\n */\nfunction getValueAsArray(value: number[], element: SliderProto): number[] {\n  const { min, max } = element\n  let start = value[0]\n  let end = value.length > 1 ? value[1] : value[0]\n  // Adjust the value if it's out of bounds.\n  if (start > end) {\n    start = end\n  }\n  if (start < min) {\n    start = min\n  }\n  if (start > max) {\n    start = max\n  }\n  if (end < min) {\n    end = min\n  }\n  if (end > max) {\n    end = max\n  }\n  return value.length > 1 ? [start, end] : [start]\n}\n\nfunction fixLabelPositions(\n  sliderDiv: HTMLDivElement | null,\n  thumb1Div: HTMLDivElement | null,\n  thumb2Div: HTMLDivElement | null,\n  thumb1ValueDiv: HTMLDivElement | null,\n  thumb2ValueDiv: HTMLDivElement | null\n): void {\n  if (!sliderDiv || !thumb1Div || !thumb1ValueDiv) {\n    return\n  }\n\n  fixLabelOverflow(sliderDiv, thumb1Div, thumb1ValueDiv)\n\n  if (thumb2Div && thumb2ValueDiv) {\n    fixLabelOverflow(sliderDiv, thumb2Div, thumb2ValueDiv)\n\n    // If two thumbs.\n    fixLabelOverlap(\n      sliderDiv,\n      thumb1Div,\n      thumb2Div,\n      thumb1ValueDiv,\n      thumb2ValueDiv\n    )\n  }\n}\n\nfunction fixLabelOverflow(\n  slider: HTMLDivElement,\n  thumb: HTMLDivElement,\n  thumbValue: HTMLDivElement\n): void {\n  // eslint-disable-next-line streamlit-custom/no-force-reflow-access -- Existing usage\n  const sliderRect = slider.getBoundingClientRect()\n  // eslint-disable-next-line streamlit-custom/no-force-reflow-access -- Existing usage\n  const thumbRect = thumb.getBoundingClientRect()\n  // eslint-disable-next-line streamlit-custom/no-force-reflow-access -- Existing usage\n  const thumbValueRect = thumbValue.getBoundingClientRect()\n\n  const thumbMidpoint = thumbRect.left + thumbRect.width / 2\n  const thumbValueOverflowsLeft =\n    thumbMidpoint - thumbValueRect.width / 2 < sliderRect.left\n  const thumbValueOverflowsRight =\n    thumbMidpoint + thumbValueRect.width / 2 > sliderRect.right\n\n  thumbValue.style.left = thumbValueOverflowsLeft ? \"0\" : \"\"\n  thumbValue.style.right = thumbValueOverflowsRight ? \"0\" : \"\"\n}\n\n/**\n * Goals:\n * - Keep the thumb values near their respective thumbs.\n * - Keep thumb values within the bounds of the slider.\n * - Avoid visual jank while moving the thumbs\n */\nfunction fixLabelOverlap(\n  sliderDiv: HTMLDivElement,\n  thumb1Div: HTMLDivElement,\n  thumb2Div: HTMLDivElement,\n  thumb1ValueDiv: HTMLDivElement,\n  thumb2ValueDiv: HTMLDivElement\n): void {\n  const labelGap = 24\n\n  // eslint-disable-next-line streamlit-custom/no-force-reflow-access -- Existing usage\n  const sliderRect = sliderDiv.getBoundingClientRect()\n  // eslint-disable-next-line streamlit-custom/no-force-reflow-access -- Existing usage\n  const thumb1Rect = thumb1Div.getBoundingClientRect()\n  // eslint-disable-next-line streamlit-custom/no-force-reflow-access -- Existing usage\n  const thumb2Rect = thumb2Div.getBoundingClientRect()\n  // eslint-disable-next-line streamlit-custom/no-force-reflow-access -- Existing usage\n  const thumb1ValueRect = thumb1ValueDiv.getBoundingClientRect()\n  // eslint-disable-next-line streamlit-custom/no-force-reflow-access -- Existing usage\n  const thumb2ValueRect = thumb2ValueDiv.getBoundingClientRect()\n\n  const sliderMidpoint = sliderRect.left + sliderRect.width / 2\n  const thumb1MidPoint = thumb1Rect.left + thumb1Rect.width / 2\n  const thumb2MidPoint = thumb2Rect.left + thumb2Rect.width / 2\n\n  const centeredThumb1ValueFitsLeft =\n    thumb1MidPoint - thumb1ValueRect.width / 2 >= sliderRect.left\n\n  const centeredThumb2ValueFitsRight =\n    thumb2MidPoint + thumb2ValueRect.width / 2 <= sliderRect.right\n\n  const leftAlignedThumb1ValueFitsLeft =\n    thumb1Rect.left - thumb1ValueRect.width >= sliderRect.left\n\n  const rightAlignedThumb2ValueFitsRight =\n    thumb2Rect.right + thumb2ValueRect.width <= sliderRect.right\n\n  const thumb1ValueOverhang = centeredThumb1ValueFitsLeft\n    ? thumb1ValueRect.width / 2\n    : thumb1ValueRect.width\n\n  const thumb2ValueOverhang = centeredThumb2ValueFitsRight\n    ? thumb2ValueRect.width / 2\n    : thumb2ValueRect.width\n\n  const thumb1ValueInnerEdge = thumb1MidPoint + thumb1ValueOverhang\n  const thumb2ValueInnerEdge = thumb2MidPoint - thumb2ValueOverhang\n  const thumbsAreFarApart =\n    thumb2ValueInnerEdge - thumb1ValueInnerEdge > labelGap\n\n  // If thumbs are far apart, just handle each separately.\n  //\n  // 1. Center values on their thumbs, like this:\n  //\n  //        [thumb1Value]       [thumb1Value]\n  // |--------[thumb1]-------------[thumb2]-------------------|\n  //\n  //\n  // 2. If one of the thumbs is so close to the edge that centering would cause\n  // the value to overflow past the edge, align the value away from the edge.\n  // (This is the normal fixLabelOverflow() behavior)\n  //\n  // For example, let's say thumb1 moved to the left:\n  //\n  //     [thumb1Value]          [thumb2Value]\n  // |---[thumb1]------------------[thumb2]-------------------|\n  //\n  //\n  if (thumbsAreFarApart) {\n    fixLabelOverflow(sliderDiv, thumb1Div, thumb1ValueDiv)\n    fixLabelOverflow(sliderDiv, thumb2Div, thumb2ValueDiv)\n    return\n  }\n\n  // If thumbs are close, try different things...\n\n  // 3. If thumbs are so close that centering would cause values to\n  // overlap, then place the values to the side of their thumbs, away from\n  // the opposing thumbs:\n  //\n  // For example, if starting from case #1 above we moved thumb1 to the\n  // right:\n  //\n  //      [thumb1Value]                    [thumb2Value]\n  // |-----------------[thumb1]----[thumb2]-------------------|\n  //\n  // Note: round all values to not have weird decimal pixels (that make our Snapshot tests flaky)\n  if (leftAlignedThumb1ValueFitsLeft && rightAlignedThumb2ValueFitsRight) {\n    // Align value1 to the left of its thumb.\n    thumb1ValueDiv.style.left = \"\"\n    thumb1ValueDiv.style.right = `${Math.round(thumb1Rect.width)}px`\n\n    // Align value2 to the right of its thumb.\n    thumb2ValueDiv.style.left = `${Math.round(thumb2Rect.width)}px`\n    thumb2ValueDiv.style.right = \"\"\n\n    return\n  }\n\n  // 4. If one of the thumbs is so close to the edge that doing the outward\n  // alignment from #3 would cause its value to overflow past the edge, then\n  // try centering the value. And place the other thumb's value right next to\n  // it, to avoid overlaps.\n  //\n  // For example, if we moved thumb1 and thumb2 to the left by the same\n  // amount:\n  //\n  //    [thumb1Value][thumb2Value]\n  // |----[thumb1]--[thumb2]----------------------------------|\n  //\n  //\n  // 5. If one of the thumbs is so close to the edge that doing the center\n  // alignment from #4 would cause its value to overflow past the edge, then\n  // align it with its thumb, pointing inward. And, like in #4, place the\n  // other thumb's value right next to it to avoid overlaps.\n  //\n  // For example, if we moved thumb1 to the left, and moved thumb2 even more:\n  //\n  //   [thumb1Value][thumb2Value]\n  // |-[thumb1]--[thumb2]-------------------------------------|\n  //\n\n  const jointThumbsAreOnLeftHalf = thumb1MidPoint < sliderMidpoint\n\n  if (jointThumbsAreOnLeftHalf) {\n    fixLabelOverflow(sliderDiv, thumb1Div, thumb1ValueDiv)\n\n    // Make thumb2Value appear to the right of thumb1Value.\n    thumb2ValueDiv.style.left = `${Math.round(\n      thumb1MidPoint + thumb1ValueOverhang + labelGap - thumb2MidPoint\n    )}px`\n    thumb2ValueDiv.style.right = \"\"\n  } else {\n    fixLabelOverflow(sliderDiv, thumb2Div, thumb2ValueDiv)\n\n    // Make thumb1Value appear to the left of thumb2Value.\n    thumb1ValueDiv.style.left = \"\"\n    thumb1ValueDiv.style.right = `${-Math.round(\n      thumb2MidPoint - thumb2ValueOverhang - labelGap - thumb1MidPoint\n    )}px`\n  }\n}\n\n// Note: we shouldn't need `withCalculatedWidth` here, but there is some custom\n// ref measurement and style setting logic in this component used for fixing\n// overflows that is not properly within the React lifecycle. This leads to race\n// conditions in styles being applied outside of React's knowledge, which can\n// lead to visually incorrect labels in certain scenarios.\nexport default withCalculatedWidth(memo(Slider))\n"],"names":["exports","Direction","__spreadArray","this","to","from","pack","i","l","ar","react_1","require$$0","types_1","require$$1","getStepDecimals","step","decimals","isTouchEvent","event","isStepDivisible","min","max","res","precision","roundedRes","normalizeValue","value","index","allowOverlap","values","BIG_NUM","prev","next","remainder","closestLowerNum","rounded","decimalPlaces","relativeValue","isVertical","direction","checkBoundaries","checkValuesAgainstBoundaries","checkInitialOverlap","item","getMargin","element","style","getPaddingAndBorder","translateThumbs","elements","offsets","rtl","inverter","translate","getClosestThumbIndex","thumbs","clientX","clientY","thumbIndex","minThumbDistance","getThumbDistance","thumbDistance","x","y","schd","fn","lastArgs","frameId","wrapperFn","args","_i","replaceAt","ret","getTrackBackground","_a","colors","_b","_c","progress","a","b","middle","acc","point","voidFn","assertUnreachable","getThumbWidth","thumbEl","separator","valueToLabel","width","el","elWidth","elClone","getOverlaps","overlaps","buildOverlaps","thumbXWidth","thumbX","siblingIndex","siblingX","siblingWidth","useThumbOverlap","rangeRef","labelStyle","setLabelStyle","labelValue","setLabelValue","newStyle","offsets_1","labelValue_1","offsetsX","c","s","labelValues_1","thumb","first","last","lastWidth","left","top","height","__extends","extendStatics","d","p","__","__createBinding","o","m","k","k2","desc","__setModuleDefault","v","__importStar","mod","result","Range_1","React","utils_1","require$$2","INCREASE_KEYS","DECREASE_KEYS","Range","_super","props","_this","t","trackElement","trackRect","trackPadding","thumbOffsets","thumbRect","thumbMargins","e","child","thumbRef","draggedThumbIndex","isTouch","onChange","isChanged","draggedTrackPos","trackLength","dX","dY","deltaValue","thumbValue","newValues","newValue","onFinalChange","elStyles","trackWidth","trackHeight","paddingLeft","paddingTop","markHeight","markWidth","markRect","prevProps","prevState","options","renderTrack","renderThumb","renderMark","disabled","thumbZIndexes","markOffsets","offset","arr","isDragged","__importDefault","ownKeys","object","enumerableOnly","keys","symbols","sym","_objectSpread","target","source","key","_defineProperty","obj","Root","styled","Track","$theme","_props$$value","$value","$disabled","$isDragged","sizing","cursor","InnerTrack","_props$$value2","$min","$max","borders","borderRadius","Mark","Tick","TickBar","Thumb","_props$$value3","$thumbIndex","isLeft","isRight","InnerThumb","ThumbValue","_extends","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","minLen","_arrayLikeToArray","len","arr2","_arr","_n","_d","_s","_e","err","limitValue","Slider","_ref","_ref$overrides","overrides","_ref$disabled","_ref$marks","marks","_ref$onChange","_onChange","_ref$onFinalChange","_onFinalChange","_ref$min","_ref$max","_ref$step","_ref$persistentThumb","persistentThumb","_ref$valueToLabel","label","providedValue","theme","React.useContext","ThemeContext","_React$useState","React.useState","_React$useState2","isHovered0","setIsHovered0","_React$useState3","_React$useState4","isHovered1","setIsHovered1","_React$useState5","_React$useState6","isFocusVisible","setIsFocusVisible","_React$useState7","_React$useState8","focusedThumbIndex","setFocusedThumbIndex","handleFocus","React.useCallback","focusVisible","handleBlur","sharedProps","_getOverrides","getOverrides","StyledRoot","_getOverrides2","rootProps","_getOverrides3","StyledTrack","_getOverrides4","trackProps","_getOverrides5","StyledInnerTrack","_getOverrides6","innerTrackProps","_getOverrides7","StyledThumb","_getOverrides8","thumbProps","_getOverrides9","StyledInnerThumb","_getOverrides10","innerThumbProps","_getOverrides11","StyledThumbValue","_getOverrides12","thumbValueProps","_getOverrides13","StyledTick","_getOverrides14","tickProps","_getOverrides15","StyledTickBar","_getOverrides16","tickBarProps","_getOverrides17","StyledMark","_getOverrides18","markProps","React.createElement","forkFocus","forkBlur","_ref2","children","_ref3","displayLabel","_ref4","_styled","alignItems","backgroundColor","gray","primary","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","borderTopStyle","borderBottomStyle","borderRightStyle","borderLeftStyle","boxShadow","display","justifyContent","sizes","sliderThumb","outline","transparentize","fontFamily","genericFonts","bodyFont","fontSize","fontSizes","sm","color","position","whiteSpace","transparent","lineHeight","lineHeights","base","fontWeight","fontWeights","normal","pointerEvents","DEBOUNCE_TIME_MS","widgetMgr","fragmentId","setValueWithSource","useBasicWidgetState","getStateFromWidgetMgr","getDefaultStateFromProto","getCurrStateFromProto","updateWidgetMgrState","uiValue","setUiValue","useState","sliderRef","useRef","thumbRefs","thumbValueRefs","useEmotionTheme","formattedValueArr","map","formatValue","thumbAriaLabel","useEffect","debouncedSetValueWithSource","useCallback","debounce","valueArg","fromUi","handleChange","forwardRef","ref","createRef","passThrough","pick","formattedValue","jsx","current","innerText","setAttribute","sliderDiv","thumb1Div","thumb2Div","thumb1ValueDiv","thumb2ValueDiv","fixLabelPositions","innerTrackStyle","spacing","twoXS","background","darkenedBgMix25","WidgetLabel","labelVisibilityProtoValueToEnum","labelVisibility","help","StyledWidgetLabelHelp","TooltipIcon","Placement","TOP_RIGHT","UISlider","getValueAsArray","none","paddingRight","minElementHeight","paddingBottom","getDoubleArrayValue","default","vws","setDoubleArrayValue","isDateTimeType","dataType","SliderProto","DataType","DATETIME","DATE","TIME","format","moment","utc","length","sprintf","start","end","fixLabelOverflow","fixLabelOverlap","slider","sliderRect","getBoundingClientRect","thumbValueRect","thumbMidpoint","thumbValueOverflowsLeft","thumbValueOverflowsRight","right","thumb1Rect","thumb2Rect","thumb1ValueRect","thumb2ValueRect","sliderMidpoint","thumb1MidPoint","thumb2MidPoint","centeredThumb1ValueFitsLeft","centeredThumb2ValueFitsRight","leftAlignedThumb1ValueFitsLeft","rightAlignedThumb2ValueFitsRight","thumb1ValueOverhang","thumb2ValueOverhang","thumb1ValueInnerEdge","labelGap","Math","round","Slider$1","withCalculatedWidth","memo"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5]}